{"version":3,"sources":["components/Chat_cmp/Message_cmp/Message.jsx","service/WordChecker.js","service/API_helper.js","components/Chat_cmp/Chat.jsx","components/App_cmp/App.jsx","components/Statistic_cmp/Title_cmp/images/logo_salut.png","components/Statistic_cmp/Title_cmp/images/logo_user.png","components/Statistic_cmp/Title_cmp/images/versus.png","components/Statistic_cmp/Title_cmp/Title.jsx","components/Statistic_cmp/Timer_cmp/Timer.jsx","components/Statistic_cmp/StatContainer_cmp/StatContainer.jsx","components/Statistic_cmp/Controllers_cmp/Controllers.jsx","components/Statistic_cmp/Statistic.jsx","components/EndGame_cmp/EndGame.jsx","components/Help_cmp/Help.jsx","reportWebVitals.ts","index.tsx"],"names":["Message","props","className","from","name","isCorrect","current_name","names","lastSym","temp","toLowerCase","length","includes","msg","i","codePointAt","inCyrillic","wrongLastChar","ws","getStartSymbol","messages","isExist","toNameFormat","toUpperCase","slice","URL","sendName","UserId","Name","a","axios","post","clearRequest","idUser","findNickName","Id","sendNickName","nickname","rules","clicked","Chat","updateScroll","block","document","getElementById","scrollTop","scrollHeight","sayName","isPause","state","lastSayPlayer","res","userId","nameFromBackend","data","console","log","push","isPhone","setState","textName","tfRef","current","value","nameForAssistant","update","timeAnswer","createAssistantSayTime","assistant","sendData","action","action_id","parameters","sym","assistantSaing","assistantSayName","getRandomInt","min","max","Math","ceil","floor","random","time","chance","endGame","setAssistantSayTime","click","enters","ev","code","React","createRef","this","nextProps","nextState","restarted","assistantSay","assistantSaied","newname","messageList","map","index","disabled","id","ref","label","onChange","v","target","onKeyDown","contentRight","size","view","onClick","Component","Title","newName","imageClass","src","logo_sber","vs","logo_user","COLOR_CODES","info","color","warning","threshold","alert","TIME_LIMIT","timePassed","remainingPathColor","Timer","formatTimeLeft","minutes","seconds","calculateTimeFraction","rawTimeFraction","timeLeft","setCircleDasharray","circleDasharray","toFixed","setAttribute","setRemainingPathColor","classList","remove","add","startTimer","setInterval","isEnd","assistantSayTime","innerHTML","restartTimer","isRestart","lastAllow","allowPause","nextAllow","lastRequest","existPauseRequest","nextRequest","pause","pathClass","viewBox","xmlns","cx","cy","r","strokeDasharray","d","StatContainer","text","сount","style","margin","fontSize","height","isWin","isEndGame","Controllers","updatePauseButton","clickPause","pauseRequest","clickRestart","restart","clickClose","exit","width","marginLeft","marginRight","pin","contentLeft","Statistic","helpClick","help","character","count","edited","officialTitle","win","lose","unofficialTitle","EndGame","nameCount","result","zIndex","Help","display","helpCalled","lines","scaleOnInteraction","outlined","editRules","offStyle","ThemeBackgroundEva","createGlobalStyle","darkEva","ThemeBackgroundSber","darkSber","ThemeBackgroundJoy","darkJoy","DocStyle","background","gradient","gameStart","window","matchMedia","matches","App","getState","playerWin","timerUpdate","pauseAllow","close","verdict","sec","getStateForAssistant","createAssistant","on","event","setTimeout","type","dispatchAssistantAction","item_selector","items","newNick","Device","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.9ec87087.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nexport default function Message(props) {\r\n  return (\r\n    <div className=\"name-item\">    \r\n      <p className={props.from}>{props.name}</p>\r\n    </div>\r\n  );\r\n}\r\n","//проверка на правильность вводимого сообщения\r\nexport function isCorrect(current_name, names) {\r\n  current_name = current_name.toLowerCase();\r\n  let temp = names;\r\n  let lastSym;\r\n  //если введено короткое имя\r\n  if (current_name.length <= 1) {\r\n    return 1;\r\n  }\r\n  //если сообщение состоит из более чем 1 слова\r\n  if (current_name.includes(\" \")) {\r\n    return 2;\r\n  }\r\n  //Проверка на кириллицу\r\n  if (!inCyrillic(current_name)) {\r\n    return 3;\r\n  }\r\n  //если это слово не первое\r\n  if (temp.length !== 0) {\r\n    let lastMsg = temp[temp.length - 1].name.toLowerCase();\r\n    //проход по символам последнего сыгранного имени с конца для определения буквы, с которой должно начинаться текущее имя\r\n    lastSym = getStartSymbol(lastMsg);\r\n    if (current_name[0] !== lastSym) {\r\n      return lastSym;\r\n    }\r\n    if(isExist(current_name, temp)) {\r\n      return 4;\r\n    }\r\n  } \r\n  return 0;\r\n}\r\n\r\nfunction getStartSymbol(msg) {\r\n  let lastSym;\r\n  let isCorrect = true;\r\n  const wrongLastChar = \"ьъы\";\r\n  for (let i = msg.length - 1; i > 0; i--) {\r\n    isCorrect = true;\r\n    for (let ws of wrongLastChar) {\r\n      //проверка символа на один из тех, на которые не может начинаться имя\r\n      if (msg[i] === ws) {\r\n        isCorrect = false;\r\n        break;\r\n      }\r\n    }\r\n    if (isCorrect) {\r\n      lastSym = msg[i]; //буква, с которой должно быть введено слово\r\n      break;\r\n    }\r\n  }\r\n  return lastSym;\r\n}\r\n\r\nfunction inCyrillic(msg) {\r\n  for (let i of msg) {\r\n    if (\r\n      !(\r\n        (i.codePointAt() <= 1103 && i.codePointAt() >= 1072) ||\r\n        i.codePointAt() === 1105\r\n      )\r\n    )\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isExist(msg, messages) {\r\n  for (let i of messages) {\r\n    if (msg.toLowerCase() === i.name.toLowerCase()) return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function toNameFormat(msg) {\r\n  if (msg.length !== 0) {\r\n    msg = msg.toLowerCase();\r\n    msg = msg[0].toUpperCase() + msg.slice(1);\r\n  }\r\n  return msg;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst URL = \"https://namesgame.herokuapp.com/\";        \r\n\r\n//отправляет сказанное игроком имя\r\n//проверяет, есть ли это имя в бд\r\n//если есть, в ответ отправляет имя, которое должен сказать ассистент\r\n//если нет, отправит пустую строку\r\nexport async function sendName(UserId, Name) {\r\n    return await axios.post(`${URL}add_used`, {\r\n        UserId,\r\n        Name,\r\n    });\r\n}   \r\n\r\n//очистить список использованных имен\r\nexport async function clearRequest(idUser) {\r\n    await axios.post(`${URL}clear_user_info`, {\"Id\": idUser,});\r\n}\r\n\r\n//если никнейм у пользователя с таким id найден, то возвращает ник, \r\n//если не найден ник или пользователь, вернет пустую строку\r\nexport async function findNickName(Id) {\r\n    return await axios.post(`${URL}get_nickname`, { Id, });\r\n}\r\n\r\n//при изменении никнейма отправить изменения в бэкенд\r\nexport async function sendNickName(idUser, nickname) {\r\n    await axios.post(`${URL}manage_nickname`, {\r\n        \"UserId\": idUser,\r\n        \"Nickname\": nickname,\r\n    })\r\n}   ","import React from \"react\";\r\nimport Message from \"./Message_cmp/Message\";\r\nimport { toNameFormat, isCorrect } from \"../../service/WordChecker\";\r\nimport { TextField, ActionButton } from \"@sberdevices/plasma-ui\";\r\nimport { IconMessage } from \"@sberdevices/plasma-icons\";\r\nimport \"./Chat.css\";\r\nimport { sendName } from \"../../service/API_helper\";\r\n\r\nlet clicked = false;\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tfRef = React.createRef();\r\n    this.state = {\r\n      textName: \"\", //текст, введенный в чате\r\n      lastSayPlayer: false, //true, если последнее имя сказал игрок\r\n      assistantSaing: false, //true, если вызван метод assistantSayName\r\n      nameForAssistant: \"\", //имя, которое должен сказать ассистент\r\n      isPause: false,\r\n    };\r\n  }\r\n\r\n  updateScroll = () => {\r\n    let block = document.getElementById(\"block\");\r\n    block.scrollTop = block.scrollHeight;\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.lastSayPlayer) clicked = true;\r\n    if (clicked) this.updateScroll();\r\n    clicked = false;\r\n  }\r\n\r\n  async shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.restarted !== nextProps.restarted) {\r\n      this.setState({\r\n        textName: \"\",\r\n        lastSayPlayer: false,\r\n        assistantSaing: false,\r\n        nameForAssistant: \"\",\r\n        isPause: false,\r\n      });\r\n      return false;\r\n    }\r\n    //если сейчас нужно говорить ассистенту\r\n    if (this.props.assistantSay !== nextProps.assistantSay) {\r\n      await this.assistantSayName(this.state.nameForAssistant);\r\n      await nextProps.assistantSaied();\r\n      return false;\r\n    }\r\n    if (this.props.newname !== nextProps.newname) {\r\n      await this.sayName(nextProps.newname);\r\n      return false;\r\n    }\r\n    if (this.props.isPause !== nextProps.isPause) return true;\r\n    if (this.props.messages !== nextProps.messages) return true;\r\n    if (this.state !== nextState) return true;\r\n    return false;\r\n  }\r\n\r\n  //добавление вводимого сообщения\r\n  sayName = async (msg) => {\r\n    if (!this.props.isPause) {\r\n      if (!this.state.lastSayPlayer) {\r\n        msg = await toNameFormat(msg); //перевод введенной строки в формат имени\r\n        let temp = await this.props.messages;\r\n        let res = await isCorrect(msg, temp); //проверка на синтаксическую корректность введенного имени\r\n        if (res === 0) {\r\n          let nameFromBackend = await sendName(this.props.userId, msg);\r\n          nameFromBackend = nameFromBackend.data;\r\n          switch (nameFromBackend) {\r\n            case \"1\": //сказанного игроком имени нет в бд\r\n              res = 5;\r\n              console.log(`res = 5`);\r\n              break;\r\n            case \"0\": //нет имени для ассистента\r\n              res = 6;\r\n              break;\r\n            default:\r\n              //пришло какое-то имя для ассистента\r\n              break;\r\n          }\r\n          if(nameFromBackend[nameFromBackend.length-1] === \".\") {\r\n            res = 6;\r\n          }\r\n          if (res !== 5) {\r\n            await temp.push({ name: msg, from: this.props.isPhone ? \"from-me-mobile\" : \"from-me\" });\r\n            this.setState({\r\n              textName: this.tfRef.current.value,\r\n              lastSayPlayer: true,\r\n              nameForAssistant: nameFromBackend,\r\n            });\r\n            await this.props.update(true);\r\n            let timeAnswer = 0;\r\n            if (res === 6) timeAnswer = 1;\r\n            await this.createAssistantSayTime(timeAnswer);\r\n            return;\r\n          }\r\n        }\r\n        if (res > 0 && res < 6) {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: res,\r\n            },\r\n          });\r\n          return;\r\n        } else {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: \"firstSym\",\r\n              parameters: { sym: res.toUpperCase() },\r\n            },\r\n          });\r\n        }\r\n      } else if (!this.state.assistantSaing) {\r\n        await this.assistantSayName(this.state.nameForAssistant);\r\n      }\r\n    }\r\n  };\r\n\r\n  getRandomInt = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n  };\r\n\r\n  createAssistantSayTime = (time) => {\r\n    let chance = this.getRandomInt(0, 102);\r\n    if (time !== 0) {\r\n      chance = 101;\r\n    }\r\n    if (chance > 100 || this.state.nameForAssistant === \"\") {\r\n      this.props.endGame();\r\n    } else {\r\n      this.props.setAssistantSayTime(29);\r\n      this.setState({\r\n        assistantSaing: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  assistantSayName = (name) => {\r\n    if (name !== \"\" && name !== \"1\" && name !== \"0\") {\r\n      clicked = true;\r\n      this.props.assistant.sendData({\r\n        action: {\r\n          action_id: \"assistantSay\",\r\n          parameters: { name: name },\r\n        },\r\n      });\r\n      this.props.messages.push({ name: name, from: this.props.isPhone ? \"from-them-mobile\" : \"from-them\" });\r\n      this.setState({\r\n        lastSayPlayer: false,\r\n        nameForAssistant: \"\",\r\n        assistantSaing: false,\r\n      });\r\n      this.props.update(false);\r\n      this.updateScroll();\r\n    }\r\n  };\r\n\r\n  click = () => {\r\n    this.tfRef.current.value = \"\";\r\n    if (!this.props.isPause) {\r\n      this.sayName(this.state.textName, this.props.isPhone);\r\n      clicked = true;\r\n    }\r\n  };\r\n\r\n  enters = (ev) => {\r\n    if (ev.code === \"Enter\") {\r\n      this.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const isPhone = this.props.isPhone;\r\n    let messageList = this.props.messages.map((msg, index) => (\r\n      <Message key={index} name={msg.name} from={msg.from} isPhone={isPhone}/>\r\n    ));\r\n    let disabled = this.props.isPause ? true : false;\r\n\r\n    return (\r\n      <div className={isPhone ? \"chat-mobile\" : \"chat\"}>\r\n        <div className={isPhone ? \"subChat-mobile\" : \"subChat\"} id=\"block\">\r\n          {messageList}\r\n        </div>\r\n        <TextField\r\n          id=\"tf\"\r\n          ref={this.tfRef}\r\n          value={this.state.textName}\r\n          className=\"editText\"\r\n          label=\"Введите имя\"\r\n          disabled={disabled}\r\n          onChange={(v) =>\r\n            this.setState({\r\n              textName: v.target.value,\r\n            })\r\n          }\r\n          onKeyDown={this.enters}\r\n          contentRight={\r\n            <ActionButton\r\n              id=\"ab\"\r\n              size=\"l\"\r\n              view=\"primary\"\r\n              disabled={disabled}\r\n              onClick={this.click}\r\n              contentRight={<IconMessage />}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  createSmartappDebugger,\r\n  createAssistant,\r\n} from \"@sberdevices/assistant-client\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\r\nimport { text, background, gradient } from \"@sberdevices/plasma-tokens\";\r\nimport { DeviceThemeProvider } from \"@sberdevices/plasma-ui/components/Device\";\r\nimport \"./App.css\";\r\nimport Chat from \"../Chat_cmp/Chat\";\r\nimport Statistic from \"../Statistic_cmp/Statistic\";\r\nimport { EndGame } from \"../EndGame_cmp/EndGame\";\r\nimport { Help } from \"../Help_cmp/Help\"\r\nimport { findNickName, sendNickName, clearRequest } from \"../../service/API_helper\";\r\nimport { toNameFormat } from \"../../service/WordChecker\";\r\n\r\nlet rules;\r\nfunction editRules(style) {\r\n  let offStyle = style === \"off\" ? \"скажите\" : \"скажи\";\r\n  let rules = `Один игрок говорит имя, \r\n                а другой отвечает ему именем на последнюю букву. На ответ дается 30 секунд, \r\n                после чего игра заканчивается. Можно сменить свое игровое имя, сказав \r\n                «Игровое имя» или «Ник». Чтобы перезапустить игру, ${offStyle} «заново» или «сначала». \r\n                Чтобы приостановить игру, ${offStyle} «пауза». Появится значок часов. Она активируется \r\n                только если последнее сказанное слово было за игроком. Чтобы начать играть, ${offStyle}\r\n                «начать»`\r\n  return rules;\r\n}\r\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\r\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\r\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\r\n\r\nconst initializeAssistant = (getState) => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return createSmartappDebugger({\r\n      token: process.env.REACT_APP_TOKEN ?? \"\",\r\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\r\n      getState,\r\n    });\r\n  }\r\n  return createAssistant({ getState });\r\n};\r\n\r\nconst DocStyle = createGlobalStyle`\r\n    html:root {\r\n        min-height: 100vh;\r\n        color: ${text};\r\n        background-color: ${background};\r\n        background-image: ${gradient};\r\n    }\r\n`;\r\n\r\nlet newName = \"\"; //имя, сказанное голосом ассистенту\r\nlet userId = \"default\";\r\nlet helpCalled = false;\r\nlet gameStart = false;\r\nlet isPhone = window.matchMedia(\"(max-width: 768px)\").matches;\r\n\r\nexport class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      messages: [], //сказанные имена\r\n      nameCount: 0, //количество сказанных имен\r\n      character: \"sber\", //текущий персонаж\r\n      isEndGame: false, //обновляется, когда игра заканчивается\r\n      restarted: false, //изменяется, когда нужен рестарт игры\r\n      timerUpdate: false, //изменяется когда надо обновить таймер\r\n      playerWin: false, //true, если последнее слово сказано игроком\r\n      isPause: true, //true, если нажата пауза\r\n      pauseAllow: true, //true, если в данный момент можно остановить игру\r\n      existPauseRequest: true,\r\n      assistantSayTime: -1, //на какой секунде ассистент должен сказать имя\r\n      assistantSay: false, //true, если сейчас ход ассистента\r\n      nickname: \"Игрок\", //никней пользователя\r\n    };\r\n\r\n    this.assistant = initializeAssistant(() => this.getStateForAssistant());\r\n    this.assistant.on(\"start\", (event) => {\r\n      this.assistant.sendData({\r\n        action: {\r\n          action_id: \"newGame\",\r\n        },\r\n      });\r\n      rules = editRules(\"off\");\r\n      setTimeout(this.assistant.sendData({action: {action_id: \"getSub\",}}), 300);\r\n    });\r\n\r\n    this.assistant.on(\"data\", (event) => {\r\n      switch (event.type) {\r\n        case \"character\":\r\n          rules = editRules(\"off\");\r\n          if (event.character.id === \"joy\") {\r\n            newName = \"Джой\";\r\n            rules = editRules(\"unoff\");\r\n          }\r\n          if (event.character.id === \"eva\") newName = \"Афина\";\r\n          this.setState({\r\n            character: event.character.id,\r\n          });\r\n          break;\r\n        case \"close_app\":\r\n          clearRequest(userId);\r\n          break;\r\n      }\r\n      const { action } = event;\r\n      this.dispatchAssistantAction(action);\r\n    });\r\n  }\r\n  \r\n  getStateForAssistant() {\r\n    const state = {\r\n      item_selector: {\r\n        items: this.state.isPause, \r\n      },\r\n    };\r\n    return state;\r\n  }\r\n  //Получение/отправка никнейма в бэкенд\r\n  async dispatchAssistantAction(action) {\r\n    console.log(\"dispatchAssistantAction\", action);\r\n    if (action) {\r\n      switch (action.type) {\r\n        case \"get_sub\":\r\n          userId = action.data;\r\n          let { data } = await findNickName(userId);\r\n          console.log(data);\r\n          if(data !== \"\")\r\n            this.setState({nickname: data});\r\n          break;\r\n        case \"add_nickname\":\r\n          let newNick = await toNameFormat(action.data);\r\n          if (newNick.length < 15 && newNick.length > 1) {\r\n            await sendNickName(userId, newNick);\r\n            this.setState({ nickname: newNick });\r\n          } else {\r\n            this.assistant.sendData({\r\n              action: {\r\n                action_id: \"repeat\",\r\n              },\r\n            });\r\n          }\r\n          break;\r\n        case \"add_name\":\r\n          newName = action.data;\r\n          this.setState(this.state);\r\n          break;\r\n        case \"restart_game\":\r\n          this.restart();\r\n          break;\r\n        case \"pause_game\":\r\n          if(!this.state.isPause && !this.state.isEndGame && !helpCalled )\r\n            this.setState({\r\n              existPauseRequest: !this.state.existPauseRequest,\r\n            });\r\n          break;\r\n        case \"continue_game\":\r\n          if (this.state.isPause && !this.state.isEndGame && !helpCalled)           \r\n            this.setState({\r\n              existPauseRequest: !this.state.existPauseRequest,\r\n            });\r\n          break;\r\n        case \"start_game\":\r\n          if(!gameStart && !helpCalled) {\r\n            this.setState({\r\n              existPauseRequest: false\r\n            })\r\n          }\r\n          break;\r\n        case \"rules_game\":\r\n          if(!helpCalled && !this.state.isEndGame) {\r\n            this.help();\r\n          }\r\n          break;\r\n        case \"close_rules\":\r\n          if(this.state.isPause && helpCalled) {\r\n            helpCalled = false;\r\n            this.setState(this.state);\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  endGame = async () => {\r\n    gameStart = false;\r\n    this.setState({\r\n      isEndGame: true,\r\n      isPause: true,\r\n    });\r\n    this.assistant.sendData({\r\n      action: {\r\n        action_id: this.state.playerWin ? \"assistantLose\" : \"assistantWin\",\r\n      },\r\n    });\r\n    await clearRequest(userId);\r\n  };\r\n\r\n  restart = async () => {\r\n    newName = \"\";\r\n    helpCalled = false;\r\n    gameStart = true;\r\n    this.assistant.sendData({action: {action_id: \"btnPause\"}})\r\n    if(this.state.isPause) {\r\n      this.pause();\r\n    }\r\n    this.setState({\r\n      messages: [],\r\n      nameCount: 0,\r\n      isEndGame: false,\r\n      restarted: !this.state.restarted,\r\n      timerUpdate: !this.state.timerUpdate,\r\n      playerWin: false,\r\n      isPause: false,\r\n      pauseAllow: true,\r\n      assistantSayTime: -1,\r\n      assistantSay: false,\r\n      existPauseRequest: false,\r\n    });\r\n    await clearRequest(userId);\r\n  };\r\n\r\n  exit = async () => {\r\n    await clearRequest(userId);\r\n    this.assistant.close();\r\n  };\r\n\r\n  pause = () => {\r\n    if(!gameStart) gameStart = true;\r\n      if(helpCalled) helpCalled = false;\r\n      if(this.state.isPause) {\r\n        this.assistant.sendData({action: {action_id: \"btnPause\"}})\r\n      } else this.assistant.sendData({action: {action_id: \"btnContinue\"}})\r\n      this.setState({\r\n        isPause: !this.state.isPause,\r\n      });\r\n  };\r\n\r\n  update = (verdict) => {\r\n    this.setState({\r\n      nameCount: this.state.nameCount + 1,\r\n      timerUpdate: !this.state.timerUpdate,\r\n      playerWin: verdict,\r\n      pauseAllow: verdict,\r\n    });\r\n  };\r\n\r\n  help = () => {\r\n    if(this.state.isPause) {\r\n      helpCalled = !helpCalled;\r\n      if(helpCalled) {\r\n        this.assistant.sendData({\r\n          action: {\r\n            action_id: \"Help\",\r\n            parameters: { rules: rules }\r\n          }\r\n        })\r\n      } else {\r\n        this.assistant.sendData({action: {action_id: \"btnRules\"}})\r\n      }\r\n    }\r\n    this.setState(this.state);\r\n  }\r\n  pauseRequest = () => {\r\n    this.setState({\r\n      existPauseRequest: !this.state.existPauseRequest\r\n    })\r\n  };\r\n\r\n  assistantSay = () => {\r\n    this.setState({\r\n      assistantSay: true,\r\n      assistantSayTime: -1,\r\n    });\r\n  };\r\n\r\n  assistantSaied = () => {\r\n    this.setState({\r\n      assistantSay: false,\r\n    });\r\n  };\r\n\r\n  setAssistantSayTime = (sec) => {\r\n    this.setState({\r\n      assistantSayTime: sec,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <DeviceThemeProvider>\r\n        <DocStyle />\r\n        {(() => {\r\n          switch (this.state.character) {\r\n            case \"sber\":\r\n              return <ThemeBackgroundSber />;\r\n            case \"eva\":\r\n              return <ThemeBackgroundEva />;\r\n            case \"joy\":\r\n              return <ThemeBackgroundJoy />;\r\n            default:\r\n              return;\r\n          }\r\n        })()}\r\n        <Help \r\n          helpCalled={helpCalled}\r\n          isPause={this.state.isPause}\r\n          rules={rules}\r\n          help={this.help}\r\n        />\r\n        <div\r\n          className=\"fill-container\"\r\n          style={{ display: this.state.isEndGame ? \"flex\" : \"none\" }}\r\n        >\r\n          {this.state.isEndGame ? (\r\n            <EndGame\r\n              count={this.state.nameCount}\r\n              restart={this.restart}\r\n              assistant={this.assistant}\r\n              character={this.state.character}\r\n              isWin={this.state.playerWin}\r\n              isEndGame={this.state.isEndGame}\r\n              exit={this.exit}\r\n            />\r\n          ) : (\r\n            <div />\r\n          )}\r\n        </div>\r\n        <div className={isPhone ? \"main-container-mobile\" : \"main-container\"}>\r\n          <Chat\r\n            isPhone={isPhone}\r\n            newname={newName}\r\n            update={this.update}\r\n            assistant={this.assistant}\r\n            messages={this.state.messages}\r\n            restarted={this.state.restarted}\r\n            isPause={this.state.isPause}\r\n            setAssistantSayTime={this.setAssistantSayTime}\r\n            assistantSaied={this.assistantSaied}\r\n            assistantSay={this.state.assistantSay}\r\n            userId={userId}\r\n            endGame={this.endGame}\r\n          />\r\n          <div className={isPhone ? \"statistic-container-mobile\" : \"statistic-container\"}>\r\n            <Statistic\r\n              isPhone={isPhone}\r\n              character={this.state.character}\r\n              count={this.state.nameCount}\r\n              endGame={this.endGame}\r\n              restart={this.restart}\r\n              pause={this.pause}\r\n              exit={this.exit}\r\n              help={this.help}\r\n              isPause={this.state.isPause}\r\n              allowPause={this.state.pauseAllow}\r\n              pauseRequest={this.pauseRequest}\r\n              update={this.state.timerUpdate}\r\n              assistant={this.assistant}\r\n              assistantSayTime={this.state.assistantSayTime}\r\n              assistantSay={this.assistantSay}\r\n              nickname={this.state.nickname}\r\n              existPauseRequest={this.state.existPauseRequest}\r\n              isWin={this.state.playerWin}\r\n              restarted={this.state.restarted}\r\n              isEndGame={this.state.isEndGame}\r\n              helpCalled={helpCalled}\r\n            />\r\n          </div>\r\n        </div>\r\n      </DeviceThemeProvider>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_salut.3ba3b2d4.png\";","export default __webpack_public_path__ + \"static/media/logo_user.cc672939.png\";","export default __webpack_public_path__ + \"static/media/versus.3401d851.png\";","import React from \"react\";\r\nimport \"./Title.css\";\r\nimport logo_sber from \"./images/logo_salut.png\";\r\nimport logo_user from \"./images/logo_user.png\";\r\nimport vs from \"./images/versus.png\";\r\n\r\nexport default class Title extends React.Component {\r\n\r\n  render() {\r\n    let newName;\r\n    switch (this.props.assistant) {\r\n      case \"sber\":\r\n        newName = \"Сбер\";\r\n        break;\r\n      case \"eva\":\r\n        newName = \"Афина\";\r\n        break;\r\n      case \"joy\":\r\n        newName = \"Джой\";\r\n        break;\r\n      default:\r\n        newName = \"Сбер\";\r\n        break;\r\n    }\r\n    const imageClass = this.props.isPhone ? \"logo-header-mobile\" : \"logo-header\";\r\n    const isPhone = this.props.isPhone;\r\n\r\n    return (\r\n      <div className={isPhone ? \"header_container-mobile\" : \"header_container\"}>\r\n        <div className=\"info-container\">\r\n          <img src={logo_sber} className={imageClass} />\r\n          <div className=\"player-name\">{newName}</div>\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={vs} className={imageClass} />\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={logo_user} className={imageClass} />\r\n          <div className=\"player-name\">{this.props.nickname}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Timer.css\";\r\n\r\nconst WARNING_THRESHOLD = 10;\r\nconst ALERT_THRESHOLD = 5;\r\nconst COLOR_CODES = {\r\n  info: {\r\n    color: \"green\",\r\n  },\r\n  warning: {\r\n    color: \"orange\",\r\n    threshold: WARNING_THRESHOLD,\r\n  },\r\n  alert: {\r\n    color: \"red\",\r\n    threshold: ALERT_THRESHOLD,\r\n  },\r\n};\r\nconst TIME_LIMIT = 30;\r\nconst FULL_DASH_ARRAY = 283;\r\nlet timePassed = 0;\r\nlet timerInterval = null;\r\nlet remainingPathColor = COLOR_CODES.info.color;\r\n\r\nexport class Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.startTimer();\r\n    this.state = {\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n      isRestart: false,\r\n    };\r\n  }\r\n  formatTimeLeft = (time) => {\r\n    // Наибольшее целое число меньше или равно результату деления времени на 60.\r\n    const minutes = Math.floor(time / 60);\r\n    let seconds = time % 60;\r\n    // Если значение секунд меньше 10, тогда отображаем его с 0 впереди\r\n    if (seconds < 10) {\r\n      seconds = `0${seconds}`;\r\n    }\r\n    // Вывод в формате MM:SS\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n\r\n  // Делим оставшееся время на определенный временной лимит\r\n  calculateTimeFraction = () => {\r\n    const rawTimeFraction = this.state.timeLeft / TIME_LIMIT;\r\n    return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);\r\n  };\r\n\r\n  // Обновляем значение свойства dasharray, начиная с 283\r\n  setCircleDasharray = () => {\r\n    const circleDasharray = `${(\r\n      this.calculateTimeFraction() * FULL_DASH_ARRAY\r\n    ).toFixed(0)} 283`;\r\n    document\r\n      .getElementById(\"base-timer-path-remaining\")\r\n      .setAttribute(\"stroke-dasharray\", circleDasharray);\r\n  };\r\n\r\n  setRemainingPathColor = (timeLeft) => {\r\n    const { alert, warning, info } = COLOR_CODES;\r\n    if (timeLeft <= alert.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(alert.color);\r\n    } else if (timeLeft <= warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(info.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(warning.color);\r\n    } else if (timeLeft > warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(alert.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(info.color);\r\n    }\r\n  };\r\n\r\n  startTimer = () => {\r\n    timerInterval = setInterval(() => {\r\n      if (!this.state.isEnd) {\r\n        // Количество времени, которое прошло, увеличивается на  1\r\n        if (!this.props.isPause) {\r\n          timePassed = timePassed >= TIME_LIMIT ? 0 : (timePassed += 1);\r\n          this.setState({\r\n            timeLeft: TIME_LIMIT - timePassed,\r\n            isEnd: false,\r\n          });\r\n          if(this.props.assistantSayTime === this.state.timeLeft) {\r\n            this.props.assistantSay();\r\n          }\r\n          // Обновляем метку оставшегося времени\r\n          document.getElementById(\"base-timer-label\").innerHTML =\r\n            this.formatTimeLeft(this.state.timeLeft);\r\n            this.setRemainingPathColor(this.state.timeLeft);\r\n        } \r\n        if (this.state.timeLeft <= 0) {\r\n          this.setState({\r\n            timeLeft: 0,\r\n            isEnd: true,\r\n          });\r\n          this.props.endGame();\r\n        }\r\n        this.setCircleDasharray();\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    let lastAllow = this.props.allowPause;\r\n    let nextAllow = nextProps.allowPause;\r\n    let lastRequest = this.props.existPauseRequest;\r\n    let nextRequest = nextProps.existPauseRequest;\r\n    if((lastAllow === nextAllow && nextAllow && lastRequest !== nextRequest) || \r\n      (lastAllow !== nextAllow && nextAllow && nextRequest && lastRequest === nextRequest)) {\r\n      if(this.props.restarted === nextProps.restarted)\r\n        this.props.pause();\r\n      if (this.props.update !== nextProps.update) {\r\n        this.restartTimer();\r\n      }\r\n      //console.log(lastAllow, nextAllow, lastRequest, nextRequest)\r\n      return false;\r\n    }\r\n    if (this.props.update !== nextProps.update) {\r\n      this.restartTimer();\r\n      return true;\r\n    }\r\n    if(this.state.timeLeft !== nextState.timeLeft) return true;\r\n    return false;\r\n  }\r\n  restartTimer = async () => {\r\n    timePassed = 0;\r\n    this.setRemainingPathColor(TIME_LIMIT);\r\n    this.setState({\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n    });\r\n  };\r\n  render() {\r\n    const isPhone = this.props.isPhone;\r\n    let pathClass = `base-timer__path-remaining ${remainingPathColor}`;\r\n\r\n    return (\r\n      <div className={isPhone ? \"base-timer-mobile\" : \"base-timer\"}>\r\n        <svg\r\n          className=\"base-timer__svg\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"base-timer__circle\">\r\n            <circle\r\n              className=\"base-timer__path-elapsed\"\r\n              cx=\"50\"\r\n              cy=\"50\"\r\n              r=\"45\"\r\n            />\r\n            <path\r\n              id=\"base-timer-path-remaining\"\r\n              strokeDasharray=\"283\"\r\n              className={pathClass}\r\n              d=\"\r\n          M 50, 50\r\n          m -45, 0\r\n          a 45,45 0 1,0 90,0\r\n          a 45,45 0 1,0 -90,0\r\n        \"\r\n            ></path>\r\n          </g>\r\n        </svg>\r\n        <span id=\"base-timer-label\" className={isPhone ? \"base-timer__label-mobile\" : \"base-timer__label\"}>\r\n          {this.formatTimeLeft(this.state.timeLeft)}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Badge } from \"@sberdevices/plasma-ui\";\r\nimport { Timer } from \"../Timer_cmp/Timer\";\r\n\r\nexport default class StatContainer extends React.Component {\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  assistantSay = () => {\r\n    this.props.assistantSay();\r\n  }\r\n\r\n  render() {\r\n    const isPhone = this.props.isPhone;\r\n\r\n    return (\r\n      <div>\r\n        <Badge\r\n          text={`Сказано имён: ${this.props.сount}`}\r\n          size=\"l\"\r\n          style={isPhone ? {margin: \"5px auto\", fontSize: \"9px\", height: \"20px\"} : {margin: \"15px auto\" }}\r\n        />\r\n        <Timer \r\n          isPhone={isPhone}\r\n          endGame={this.endGame} \r\n          update={this.props.update} \r\n          isPause={this.props.isPause}\r\n          assistantSayTime={this.props.assistantSayTime}\r\n          assistantSay={this.assistantSay}\r\n          existPauseRequest={this.props.existPauseRequest}\r\n          allowPause={this.props.allowPause}\r\n          pause={this.props.pause}\r\n          isWin={this.props.isWin}\r\n          restarted={this.props.restarted}\r\n          isEndGame={this.props.isEndGame}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Button } from '@sberdevices/plasma-ui'\r\nimport { IconPause, IconPlay, IconClose, IconRefresh, IconClock } from '@sberdevices/plasma-icons'\r\nimport \"./Controllers.css\"\r\n\r\nexport class Controllers extends React.Component {\r\n\r\n    updatePauseButton = isPhone => {\r\n        if(this.props.existPauseRequest)\r\n            return <IconPlay size={isPhone ? \"s\" : \"l\"}/>\r\n        else return <IconPause size={isPhone ? \"s\" : \"l\"}/>\r\n    }\r\n\r\n    clickPause = () => {\r\n        this.props.pauseRequest();\r\n    }\r\n\r\n    clickRestart = () => {\r\n        this.props.restart();\r\n    }\r\n\r\n    clickClose = () => {\r\n        this.props.exit();\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if(this.props.existPauseRequest !== nextProps.existPauseRequest) {\r\n            this.updatePauseButton();\r\n        }\r\n        return true;\r\n    }\r\n    render() {   \r\n      const isPhone = this.props.isPhone;\r\n\r\n        return (\r\n            <div>\r\n                <div className={isPhone ? \"controllers-container-mobile\" : \"controllers-container\"}>\r\n                    <Button\r\n                        style={isPhone ? {width: '40px', height: '40px', marginLeft: \"10px\"} : {marginRight: \"20px\"}}\r\n                        size=\"l\"\r\n                        view=\"primary\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={this.updatePauseButton(isPhone)}\r\n                        onClick={this.clickPause} />\r\n                    <Button \r\n                        style={isPhone ? {width: '40px', height: '40px', marginLeft: \"10px\"} : {}}\r\n                        size=\"l\"    \r\n                        view=\"warning\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={<IconRefresh size={isPhone ? \"s\" : \"l\"}/>}\r\n                        onClick={this.clickRestart}/>\r\n                    <Button\r\n                        style={isPhone ? {width: '40px', height: '40px', marginLeft: \"10px\"} : {marginLeft: \"20px\"}}\r\n                        size=\"l\"\r\n                        view=\"critical\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={<IconClose size={isPhone ? \"s\" : \"l\"}/>}\r\n                        onClick={this.clickClose}/>\r\n                </div>\r\n                {!this.props.isPhone &&\r\n                <div className=\"item-clock\">\r\n                    {this.props.isPause ? <div/> : this.props.existPauseRequest ? <IconClock/> : <div/>}\r\n                    <div className=\"hide-block\" style={{marginRight: \"20px\"}}/>\r\n                    <div className=\"hide-block\"/>\r\n                    <div className=\"hide-block\" style={{marginLeft: \"20px\"}}/>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Title from \"./Title_cmp/Title\";\r\nimport StatContainer from \"./StatContainer_cmp/StatContainer\";\r\nimport { Controllers } from \"./Controllers_cmp/Controllers\";\r\nimport { Button } from \"@sberdevices/plasma-ui\";\r\nimport \"./Statistic.css\"\r\n\r\nexport default class Statistic extends React.Component {\r\n    endGame = () => {\r\n        this.props.endGame();\r\n    }\r\n    assistantSay = () => {\r\n        this.props.assistantSay();\r\n    }\r\n    helpClick = () => {\r\n        this.props.help();\r\n    }\r\n    render() {\r\n        return (\r\n        <div>\r\n            <Title \r\n                isPhone={this.props.isPhone}\r\n                assistant={this.props.character}\r\n                nickname={this.props.nickname}\r\n            />\r\n            <StatContainer \r\n                isPhone={this.props.isPhone}\r\n                сount={this.props.count} \r\n                endGame={this.endGame} \r\n                update={this.props.update}\r\n                isPause={this.props.isPause}\r\n                assistantSayTime={this.props.assistantSayTime}\r\n                assistantSay={this.assistantSay}\r\n                existPauseRequest={this.props.existPauseRequest}\r\n                allowPause={this.props.allowPause}\r\n                pause={this.props.pause}\r\n                isWin={this.props.isWin}\r\n                restarted={this.props.restarted}\r\n                isEndGame={this.props.isEndGame}\r\n            />\r\n            <Controllers \r\n                isPhone={this.props.isPhone}\r\n                restart={this.props.restart} \r\n                assistant={this.props.assistant} \r\n                pauseRequest={this.props.pauseRequest}\r\n                existPauseRequest={this.props.existPauseRequest}\r\n                isPause={this.props.isPause}\r\n                exit={this.props.exit}\r\n            />\r\n            <div className={this.props.isPhone ? \"help-btn-mobile\" : \"help-btn\"}>\r\n                <Button\r\n                    view=\"primary\"\r\n                    size=\"s\"\r\n                    style={this.props.isPhone ? {width: \"80px\", height: \"25px\", fontSize: \"10px\"} : {}}\r\n                    disabled={!this.props.isPause ? true : false}\r\n                    onClick={this.helpClick}\r\n                >\r\n                Помощь\r\n                </Button>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, Card, CardBody, CardContent, CardHeadline1, Badge } from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconClose,\r\n  IconRefresh,\r\n} from \"@sberdevices/plasma-icons\";\r\nimport \"./EndGame.css\";\r\n\r\nlet edited = false;\r\nconst officialTitle = {\r\n  win: \"Вы победили!\",\r\n  lose: \"Вы проиграли\",\r\n}\r\nconst unofficialTitle = {\r\n  win: \"Ты победил!\",\r\n  lose: \"Ты проиграл\",\r\n}\r\nexport class EndGame extends React.Component {\r\n\r\n  clickRestart = () => {\r\n    edited = false;\r\n    this.props.restart();\r\n  };\r\n\r\n  clickClose = () => {\r\n    this.props.exit();\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if(nextProps.isEndGame && !edited) {\r\n      edited = true;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  render() {\r\n    console.log(this.props.character);\r\n    let nameCount = this.props.count;\r\n    let result = this.props.character === \"joy\" ? unofficialTitle : officialTitle;\r\n    return (\r\n      <Card className=\"card-container\" style={{ zIndex: 21 }}>\r\n        <CardBody>\r\n          <CardContent>\r\n            <CardHeadline1>{this.props.isWin ? result.win : result.lose}</CardHeadline1>\r\n            <Badge\r\n                text={`Сказано имён: ${nameCount}`}\r\n                size=\"l\"\r\n                style={{margin: \"30px auto\" }}\r\n            />\r\n            <div className=\"btn-container\">\r\n              <Button\r\n                style={{\"marginRight\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"warning\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconRefresh size=\"l\" />}\r\n                onClick={this.clickRestart}\r\n              />\r\n              <Button\r\n              style={{\"marginLeft\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"critical\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconClose size=\"l\" />}\r\n                onClick={this.clickClose}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {Card, CardBody, CardContent, Button, CardHeadline2, CardParagraph2} from \"@sberdevices/plasma-ui\"\r\nimport \"../App_cmp/App.css\"\r\nimport \"../EndGame_cmp/EndGame.css\"\r\nimport \"./Help.css\"\r\n\r\nexport class Help extends React.Component {\r\n\r\n    clickClose = () => {\r\n        this.props.help();\r\n    }\r\n    render() {\r\n        return(\r\n        <div\r\n          className=\"fill-container\"\r\n          style={{ display: this.props.helpCalled && this.props.isPause ? \"flex\" : \"none\" }}\r\n        >\r\n            <Card className=\"card-container\" style={{ zIndex: 21, width: \"70%\" }}>\r\n                <CardBody className=\"card-style\">\r\n                <CardContent>\r\n                    <CardHeadline2 style={{\"textAlign\": \"center\"}}>Правила</CardHeadline2>\r\n                    <CardParagraph2 style={{fontSize: \"70%\"}} lines={10}>{this.props.rules}</CardParagraph2>\r\n                    <Button\r\n                        view = \"primary\"\r\n                        size = \"s\"\r\n                        style={{\"marginTop\": \"10px\"}}\r\n                        scaleOnInteraction={true}\r\n                        outlined={false}\r\n                        onClick={this.clickClose}\r\n                    >Закрыть\r\n                    </Button>\r\n                </CardContent>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n        )\r\n    }\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\nimport { App } from \"./components/App_cmp/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n//import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\r\n//import { GlobalStyle } from './GlobalStyle'; \r\n\r\nReactDOM.render(\r\n        <App />,\r\n  document.getElementById(\"root\")\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}