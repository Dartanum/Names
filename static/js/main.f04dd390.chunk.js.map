{"version":3,"sources":["components/Chat_cmp/Message_cmp/Message.jsx","service/WordChecker.js","service/API_helper.js","components/Chat_cmp/Chat.jsx","components/Statistic_cmp/Title_cmp/images/logo_salut.png","components/Statistic_cmp/Title_cmp/images/logo_user.png","components/Statistic_cmp/Title_cmp/images/versus.png","components/Statistic_cmp/Title_cmp/Title.jsx","components/Statistic_cmp/Timer_cmp/Timer.jsx","components/Statistic_cmp/StatContainer_cmp/StatContainer.jsx","components/Statistic_cmp/Controllers_cmp/Controllers.jsx","components/Statistic_cmp/Statistic.jsx","components/EndGame_cmp/EndGame.jsx","components/App_cmp/App.jsx","reportWebVitals.ts","index.tsx"],"names":["Message","props","className","from","name","isCorrect","current_name","names","lastSym","temp","toLowerCase","length","includes","msg","i","codePointAt","inCyrillic","wrongLastChar","ws","getStartSymbol","messages","isExist","toNameFormat","toUpperCase","slice","URL","sendName","UserId","Name","a","axios","post","clearRequest","idUser","findNickName","Id","sendNickName","nickname","clicked","Chat","updateScroll","block","document","getElementById","scrollTop","scrollHeight","sayName","isPause","state","lastSayPlayer","res","userId","nameFromBackend","data","console","log","push","setState","textName","tfRef","current","value","nameForAssistant","allowPause","updateCount","timeAnswer","createAssistantSayTime","assistant","sendData","action","action_id","parameters","sym","assistantSaing","assistantSayName","getRandomInt","min","max","Math","ceil","floor","random","time","timeReply","setAssistantSayTime","click","enters","ev","code","React","createRef","this","nextProps","nextState","restarted","assistantSay","assistantSaied","newname","messageList","map","index","disabled","id","ref","label","onChange","v","target","onKeyDown","contentRight","size","view","onClick","Component","Title","newName","src","logo_sber","vs","logo_user","COLOR_CODES","info","color","warning","threshold","alert","TIME_LIMIT","timePassed","remainingPathColor","Timer","formatTimeLeft","minutes","seconds","calculateTimeFraction","rawTimeFraction","timeLeft","setCircleDasharray","circleDasharray","toFixed","setAttribute","setRemainingPathColor","classList","remove","add","startTimer","setInterval","isEnd","assistantSayTime","innerHTML","endGame","restartTimer","isRestart","update","pathClass","viewBox","xmlns","cx","cy","r","strokeDasharray","d","StatContainer","text","сount","style","margin","Controllers","updatePauseButton","clickPause","pause","clickRestart","restart","clickClose","exit","pin","contentLeft","Statistic","character","count","edited","officialTitle","win","lose","unofficialTitle","EndGame","isEndGame","nameCount","result","zIndex","isWin","ThemeBackgroundEva","createGlobalStyle","darkEva","ThemeBackgroundSber","darkSber","ThemeBackgroundJoy","darkJoy","DocStyle","background","gradient","nicknameGetting","App","getState","getLastNick","isPlayer","timerUpdate","playerWin","pauseAllow","close","verdict","sec","getStateForAssistant","createAssistant","on","event","type","sub","dispatchAssistantAction","item_selector","items","newNick","Device","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.f04dd390.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nexport default function Message(props) {\r\n  return (\r\n    <div className=\"name-item\">    \r\n      <p className={props.from}>{props.name}</p>\r\n    </div>\r\n  );\r\n}\r\n","//проверка на правильность вводимого сообщения\r\nexport function isCorrect(current_name, names) {\r\n  current_name = current_name.toLowerCase();\r\n  let temp = names;\r\n  let lastSym;\r\n  //если введено короткое имя\r\n  if (current_name.length <= 1) {\r\n    return 1;\r\n  }\r\n  //если сообщение состоит из более чем 1 слова\r\n  if (current_name.includes(\" \")) {\r\n    return 2;\r\n  }\r\n  //Проверка на кириллицу\r\n  if (!inCyrillic(current_name)) {\r\n    return 3;\r\n  }\r\n  //если это слово не первое\r\n  if (temp.length !== 0) {\r\n    let lastMsg = temp[temp.length - 1].name.toLowerCase();\r\n    //проход по символам последнего сыгранного имени с конца для определения буквы, с которой должно начинаться текущее имя\r\n    lastSym = getStartSymbol(lastMsg);\r\n    if (current_name[0] !== lastSym) {\r\n      return lastSym;\r\n    }\r\n    if(isExist(current_name, temp)) {\r\n      return 4;\r\n    }\r\n  } \r\n  return 0;\r\n}\r\n\r\nfunction getStartSymbol(msg) {\r\n  let lastSym;\r\n  let isCorrect = true;\r\n  const wrongLastChar = \"ьъы\";\r\n  for (let i = msg.length - 1; i > 0; i--) {\r\n    isCorrect = true;\r\n    for (let ws of wrongLastChar) {\r\n      //проверка символа на один из тех, на которые не может начинаться имя\r\n      if (msg[i] === ws) {\r\n        isCorrect = false;\r\n        break;\r\n      }\r\n    }\r\n    if (isCorrect) {\r\n      lastSym = msg[i]; //буква, с которой должно быть введено слово\r\n      break;\r\n    }\r\n  }\r\n  return lastSym;\r\n}\r\n\r\nfunction inCyrillic(msg) {\r\n  for (let i of msg) {\r\n    if (\r\n      !(\r\n        (i.codePointAt() <= 1103 && i.codePointAt() >= 1072) ||\r\n        i.codePointAt() === 1105\r\n      )\r\n    )\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isExist(msg, messages) {\r\n  for (let i of messages) {\r\n    if (msg.toLowerCase() === i.name.toLowerCase()) return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function toNameFormat(msg) {\r\n  if (msg.length !== 0) {\r\n    msg = msg.toLowerCase();\r\n    msg = msg[0].toUpperCase() + msg.slice(1);\r\n  }\r\n  return msg;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst URL = \"https://namesgame.herokuapp.com/\";        \r\n\r\n//отправляет сказанное игроком имя\r\n//проверяет, есть ли это имя в бд\r\n//если есть, в ответ отправляет имя, которое должен сказать ассистент\r\n//если нет, отправит пустую строку\r\nexport async function sendName(UserId, Name) {\r\n    return await axios.post(`${URL}add_used`, {\r\n        UserId,\r\n        Name,\r\n    });\r\n}   \r\n\r\n//очистить список использованных имен\r\nexport async function clearRequest(idUser) {\r\n    await axios.post(`${URL}clear_user_info`, {\"Id\": idUser,});\r\n}\r\n\r\n//если никнейм у пользователя с таким id найден, то возвращает ник, \r\n//если не найден ник или пользователь, вернет пустую строку\r\nexport async function findNickName(Id) {\r\n    return await axios.post(`${URL}get_nickname`, { Id, });\r\n}\r\n\r\n//при изменении никнейма отправить изменения в бэкенд\r\nexport async function sendNickName(idUser, nickname) {\r\n    await axios.post(`${URL}manage_nickname`, {\r\n        \"UserId\": idUser,\r\n        \"Nickname\": nickname,\r\n    })\r\n}   ","import React from \"react\";\r\nimport Message from \"./Message_cmp/Message\";\r\nimport {toNameFormat, isCorrect} from \"../../service/WordChecker\";\r\nimport { TextField, ActionButton } from \"@sberdevices/plasma-ui\";\r\nimport { IconMessage } from \"@sberdevices/plasma-icons\";\r\nimport \"./Chat.css\";\r\nimport { sendName } from \"../../service/API_helper\";\r\n\r\nlet clicked = false;\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tfRef = React.createRef();\r\n    this.state = {\r\n      textName: \"\", //текст, введенный в чате\r\n      lastSayPlayer: false, //true, если последнее имя сказал игрок\r\n      assistantSaing: false, //true, если вызван метод assistantSayName\r\n      nameForAssistant: \"\", //имя, которое должен сказать ассистент\r\n      isPause: false,\r\n    };\r\n  }\r\n\r\n  updateScroll = () => {\r\n    let block = document.getElementById(\"block\");\r\n    block.scrollTop = block.scrollHeight;\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if(this.state.lastSayPlayer) clicked = true;\r\n    if (clicked) this.updateScroll();\r\n    clicked = false;\r\n  }\r\n\r\n  async shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.restarted !== nextProps.restarted) {\r\n      this.setState({\r\n        textName: \"\",\r\n        lastSayPlayer: false,\r\n        assistantSaing: false,\r\n        nameForAssistant: \"\",\r\n        isPause: false,\r\n      });\r\n      return false;\r\n    }\r\n    if (nextProps.assistantSay) {\r\n      this.assistantSayName(this.state.nameForAssistant);\r\n      nextProps.assistantSaied();\r\n      return false;\r\n    }\r\n    if (this.props.newname !== nextProps.newname) {\r\n      await this.sayName(nextProps.newname);\r\n      return false;\r\n    }\r\n    if (this.props.isPause !== nextProps.isPause) return true;\r\n    if (this.props.messages !== nextProps.messages) return true;\r\n    if (this.state !== nextState) return true;\r\n    return false;\r\n  }\r\n\r\n  //добавление вводимого сообщения\r\n  sayName = async (msg) => {\r\n    if (!this.props.isPause) {\r\n      if (!this.state.lastSayPlayer) {\r\n        msg = await toNameFormat(msg); //перевод введенной строки в формат имени\r\n        let temp = await this.props.messages; \r\n        let res = await isCorrect(msg, temp); //проверка на синтаксическую корректность введенного имени\r\n        if (res === 0) {\r\n          let nameFromBackend = await sendName( \r\n            this.props.userId,\r\n            msg\r\n          );\r\n          switch (nameFromBackend.data) {\r\n            case \"1\": //сказанного игроком имени нет в бд \r\n              res = 5;\r\n              console.log(`res = 5`);\r\n              break;\r\n            case \"0\": //нет имени для ассистента\r\n              res = 6;\r\n              break;\r\n            default: //пришло какое-то имя для ассистента\r\n              break;\r\n          }\r\n          if (res !== 5) {\r\n            await temp.push({ name: msg, from: \"from-me\" });\r\n            await this.setState({\r\n              textName: this.tfRef.current.value,\r\n              lastSayPlayer: true,\r\n              nameForAssistant: nameFromBackend.data,\r\n            });\r\n            await this.props.allowPause(true);\r\n            await this.props.updateCount(true);\r\n            let timeAnswer = 0;\r\n            if(res === 6) timeAnswer = 1;\r\n            await this.createAssistantSayTime(timeAnswer);\r\n            return;\r\n          }\r\n        }\r\n        if (res > 0 && res < 6) {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: res,\r\n            },\r\n          });\r\n          return;\r\n        } else {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: \"firstSym\",\r\n              parameters: { sym: res.toUpperCase() },\r\n            },\r\n          });\r\n        }\r\n      } else if (!this.state.assistantSaing) {\r\n        await this.assistantSayName(this.state.nameForAssistant);\r\n      }\r\n    }\r\n  };\r\n\r\n  getRandomInt = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n  };\r\n\r\n  createAssistantSayTime = (time) => {\r\n    let timeReply = this.getRandomInt(0, 102);\r\n    if(time !== 0) {\r\n      timeReply = 101;\r\n    }\r\n    if (timeReply > 100 || this.state.nameForAssistant === \"\") {\r\n      timeReply = -1;\r\n    } else {\r\n      timeReply = 10 + (timeReply % 10);\r\n    }\r\n    console.log(timeReply);\r\n    this.props.setAssistantSayTime(timeReply);\r\n    this.setState({\r\n      assistantSaing: true,\r\n    });\r\n  };\r\n\r\n  assistantSayName = (name) => {\r\n    if (name !== \"\" && name !== \"1\" && name !== \"0\") {\r\n      clicked = true;\r\n      console.log(\"assistantSayName\");\r\n      this.props.assistant.sendData({\r\n        action: {\r\n          action_id: \"assistantSay\",\r\n          parameters: { name: name },\r\n        },\r\n      });\r\n      this.props.messages.push({ name: name, from: \"from-them\" });\r\n      this.setState({\r\n        lastSayPlayer: false,\r\n        nameForAssistant: \"\",\r\n        assistantSaing: false,\r\n      });\r\n      this.props.updateCount(false);\r\n      this.props.allowPause(false);\r\n      this.updateScroll();\r\n    }\r\n  };\r\n\r\n  click = () => {\r\n    this.tfRef.current.value = \"\";\r\n    if (!this.props.isPause) {\r\n      this.sayName(this.state.textName);\r\n      clicked = true;\r\n    }\r\n  };\r\n\r\n  enters = (ev) => {\r\n    if (ev.code === \"Enter\") {\r\n      this.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let messageList = this.props.messages.map((msg, index) => (\r\n      <Message key={index} name={msg.name} from={msg.from} />\r\n    ));\r\n    let disabled = this.props.isPause ? true : false;\r\n    return (\r\n      <div className=\"chat\">\r\n        <div className=\"subChat\" id=\"block\">\r\n          {messageList}\r\n        </div>\r\n        <TextField\r\n          id=\"tf\"\r\n          ref={this.tfRef}\r\n          value={this.state.textName}\r\n          className=\"editText\"\r\n          label=\"Введите имя\"\r\n          disabled={disabled}\r\n          onChange={(v) =>\r\n            this.setState({\r\n              textName: v.target.value,\r\n            })\r\n          }\r\n          onKeyDown={this.enters}\r\n          contentRight={\r\n            <ActionButton\r\n              id=\"ab\"\r\n              size=\"l\"\r\n              view=\"primary\"\r\n              disabled={disabled}\r\n              onClick={this.click}\r\n              contentRight={<IconMessage />}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_salut.3ba3b2d4.png\";","export default __webpack_public_path__ + \"static/media/logo_user.cc672939.png\";","export default __webpack_public_path__ + \"static/media/versus.3401d851.png\";","import React from \"react\";\r\nimport \"./Title.css\";\r\nimport logo_sber from \"./images/logo_salut.png\";\r\nimport logo_user from \"./images/logo_user.png\";\r\nimport vs from \"./images/versus.png\";\r\n\r\nexport default class Title extends React.Component {\r\n\r\n  render() {\r\n    let newName;\r\n    switch (this.props.assistant) {\r\n      case \"sber\":\r\n        newName = \"Сбер\";\r\n        break;\r\n      case \"eva\":\r\n        newName = \"Афина\";\r\n        break;\r\n      case \"joy\":\r\n        newName = \"Джой\";\r\n        break;\r\n      default:\r\n        newName = \"Сбер\";\r\n        break;\r\n    }\r\n    return (\r\n      <div className=\"header_container\">\r\n        <div className=\"info-container\">\r\n          <img src={logo_sber} className=\"logo-header\" />\r\n          <div className=\"player-name\">{newName}</div>\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={vs} className=\"logo-header\" />\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={logo_user} className=\"logo-header\" />\r\n          <div className=\"player-name\">{this.props.nickname}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Timer.css\";\r\n\r\nconst WARNING_THRESHOLD = 10;\r\nconst ALERT_THRESHOLD = 5;\r\nconst COLOR_CODES = {\r\n  info: {\r\n    color: \"green\",\r\n  },\r\n  warning: {\r\n    color: \"orange\",\r\n    threshold: WARNING_THRESHOLD,\r\n  },\r\n  alert: {\r\n    color: \"red\",\r\n    threshold: ALERT_THRESHOLD,\r\n  },\r\n};\r\nconst TIME_LIMIT = 20;\r\nconst FULL_DASH_ARRAY = 283;\r\nlet timePassed = 0;\r\nlet timerInterval = null;\r\nlet remainingPathColor = COLOR_CODES.info.color;\r\nexport class Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.startTimer();\r\n    this.state = {\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n      isRestart: false,\r\n      isPause: this.props.isPause,\r\n    };\r\n  }\r\n  formatTimeLeft = (time) => {\r\n    // Наибольшее целое число меньше или равно результату деления времени на 60.\r\n    const minutes = Math.floor(time / 60);\r\n    let seconds = time % 60;\r\n    // Если значение секунд меньше 10, тогда отображаем его с 0 впереди\r\n    if (seconds < 10) {\r\n      seconds = `0${seconds}`;\r\n    }\r\n    // Вывод в формате MM:SS\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n\r\n  // Делим оставшееся время на определенный временной лимит\r\n  calculateTimeFraction = () => {\r\n    const rawTimeFraction = this.state.timeLeft / TIME_LIMIT;\r\n    return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);\r\n  };\r\n\r\n  // Обновляем значение свойства dasharray, начиная с 283\r\n  setCircleDasharray = () => {\r\n    const circleDasharray = `${(\r\n      this.calculateTimeFraction() * FULL_DASH_ARRAY\r\n    ).toFixed(0)} 283`;\r\n    document\r\n      .getElementById(\"base-timer-path-remaining\")\r\n      .setAttribute(\"stroke-dasharray\", circleDasharray);\r\n  };\r\n\r\n  setRemainingPathColor = (timeLeft) => {\r\n    const { alert, warning, info } = COLOR_CODES;\r\n    if (timeLeft <= alert.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(alert.color);\r\n    } else if (timeLeft <= warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(info.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(warning.color);\r\n    } else if (timeLeft > warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(alert.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(info.color);\r\n    }\r\n  };\r\n\r\n  startTimer = () => {\r\n    timerInterval = setInterval(() => {\r\n      if (!this.state.isEnd) {\r\n        // Количество времени, которое прошло, увеличивается на  1\r\n        if (!this.props.isPause) {\r\n          timePassed = timePassed >= TIME_LIMIT ? 0 : (timePassed += 1);\r\n          this.setState({\r\n            timeLeft: TIME_LIMIT - timePassed,\r\n            isEnd: false,\r\n          });\r\n          if(this.props.assistantSayTime === this.state.timeLeft) {\r\n            this.props.assistantSay();\r\n          }\r\n          // Обновляем метку оставшегося времени\r\n          document.getElementById(\"base-timer-label\").innerHTML =\r\n            this.formatTimeLeft(this.state.timeLeft);\r\n            this.setRemainingPathColor(this.state.timeLeft);\r\n        } \r\n        if (this.state.timeLeft <= 0) {\r\n          this.setState({\r\n            timeLeft: 0,\r\n            isEnd: true,\r\n          });\r\n          this.props.endGame();\r\n        }\r\n        this.setCircleDasharray();\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.update !== nextProps.update) {\r\n      this.restartTimer();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  restartTimer = () => {\r\n    timePassed = 0;\r\n    this.setState({\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n    });\r\n  };\r\n  render() {\r\n    let pathClass = `base-timer__path-remaining ${remainingPathColor}`;\r\n    return (\r\n      <div className=\"base-timer\">\r\n        <svg\r\n          className=\"base-timer__svg\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"base-timer__circle\">\r\n            <circle\r\n              className=\"base-timer__path-elapsed\"\r\n              cx=\"50\"\r\n              cy=\"50\"\r\n              r=\"45\"\r\n            />\r\n            <path\r\n              id=\"base-timer-path-remaining\"\r\n              strokeDasharray=\"283\"\r\n              className={pathClass}\r\n              d=\"\r\n          M 50, 50\r\n          m -45, 0\r\n          a 45,45 0 1,0 90,0\r\n          a 45,45 0 1,0 -90,0\r\n        \"\r\n            ></path>\r\n          </g>\r\n        </svg>\r\n        <span id=\"base-timer-label\" className=\"base-timer__label\">\r\n          {this.formatTimeLeft(this.state.timeLeft)}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Badge } from \"@sberdevices/plasma-ui\";\r\nimport { Timer } from \"../Timer_cmp/Timer\";\r\n\r\nexport default class StatContainer extends React.Component {\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  assistantSay = () => {\r\n    this.props.assistantSay();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Badge\r\n          text={`Сказано имён: ${this.props.сount}`}\r\n          size=\"l\"\r\n          style={{margin: \"30px auto\" }}\r\n        />\r\n        <Timer \r\n          endGame={this.endGame} \r\n          update={this.props.update} \r\n          isPause={this.props.isPause}\r\n          assistantSayTime={this.props.assistantSayTime}\r\n          assistantSay={this.assistantSay}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Button } from '@sberdevices/plasma-ui'\r\nimport { IconPause, IconPlay, IconClose, IconRefresh } from '@sberdevices/plasma-icons'\r\nimport \"./Controllers.css\"\r\n\r\nexport class Controllers extends React.Component {\r\n\r\n    updatePauseButton = () => {\r\n        if(this.props.isPause)\r\n            return <IconPlay size=\"l\"/>\r\n        else return <IconPause size=\"l\"/>\r\n    }\r\n\r\n    clickPause = () => {\r\n        if(this.props.allowPause) {\r\n            this.props.pause();\r\n        }\r\n    }\r\n\r\n    clickRestart = () => {\r\n        this.props.restart();\r\n    }\r\n\r\n    clickClose = () => {\r\n        this.props.exit();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"controllers-container\">\r\n                <Button\r\n                    style={{\"marginRight\": \"20px\"}}\r\n                    size=\"l\"\r\n                    view=\"primary\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={this.updatePauseButton()}\r\n                    onClick={this.clickPause} />\r\n                <Button \r\n                    size=\"l\"    \r\n                    view=\"warning\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={<IconRefresh size=\"l\"/>}\r\n                    onClick={this.clickRestart}/>\r\n                <Button\r\n                    style={{\"marginLeft\": \"20px\"}}\r\n                    size=\"l\"\r\n                    view=\"critical\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={<IconClose size=\"l\"/>}\r\n                    onClick={this.clickClose}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Title from \"./Title_cmp/Title\";\r\nimport StatContainer from \"./StatContainer_cmp/StatContainer\";\r\nimport { Controllers } from \"./Controllers_cmp/Controllers\";\r\n\r\nexport default class Statistic extends React.Component {\r\n    endGame = () => {\r\n        this.props.endGame();\r\n    }\r\n    assistantSay = () => {\r\n        this.props.assistantSay();\r\n    }\r\n    render() {\r\n        return (\r\n        <div>\r\n            <Title \r\n                assistant={this.props.character}\r\n                nickname={this.props.nickname}\r\n            />\r\n            <StatContainer \r\n                сount={this.props.count} \r\n                endGame={this.endGame} \r\n                update={this.props.update}\r\n                isPause={this.props.isPause}\r\n                assistantSayTime={this.props.assistantSayTime}\r\n                assistantSay={this.assistantSay}\r\n            />\r\n            <Controllers \r\n                restart={this.props.restart} \r\n                assistant={this.props.assistant} \r\n                allowPause={this.props.allowPause}\r\n                pause={this.props.pause}\r\n                isPause={this.props.isPause}\r\n                exit={this.props.exit}\r\n            />\r\n            <h2 style={{\"width\": \"100%\", \"height\": \"50px\"}}>{this.props.userId}</h2>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, Card, CardBody, CardContent, CardHeadline1, Badge } from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconClose,\r\n  IconRefresh,\r\n} from \"@sberdevices/plasma-icons\";\r\nimport \"./EndGame.css\";\r\n\r\nlet edited = false;\r\nconst officialTitle = {\r\n  win: \"Вы победили!\",\r\n  lose: \"Вы проиграли\",\r\n}\r\nconst unofficialTitle = {\r\n  win: \"Ты победил!\",\r\n  lose: \"Ты проиграл\",\r\n}\r\nexport class EndGame extends React.Component {\r\n\r\n  clickRestart = () => {\r\n    edited = false;\r\n    this.props.restart();\r\n  };\r\n\r\n  clickClose = () => {\r\n    this.props.exit();\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if(nextProps.isEndGame && !edited) {\r\n      edited = true;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  render() {\r\n    console.log(this.props.character);\r\n    let nameCount = this.props.count;\r\n    let result = this.props.character === \"joy\" ? unofficialTitle : officialTitle;\r\n    return (\r\n      <Card className=\"card-container\" style={{ zIndex: 21 }}>\r\n        <CardBody>\r\n          <CardContent>\r\n            <CardHeadline1>{this.props.isWin ? result.win : result.lose}</CardHeadline1>\r\n            <Badge\r\n                text={`Сказано имён: ${nameCount}`}\r\n                size=\"l\"\r\n                style={{margin: \"30px auto\" }}\r\n            />\r\n            <div className=\"btn-container\">\r\n              <Button\r\n                style={{\"marginRight\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"warning\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconRefresh size=\"l\" />}\r\n                onClick={this.clickRestart}\r\n              />\r\n              <Button\r\n              style={{\"marginLeft\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"critical\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconClose size=\"l\" />}\r\n                onClick={this.clickClose}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport {\n  createSmartappDebugger,\n  createAssistant,\n} from \"@sberdevices/assistant-client\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\nimport { text, background, gradient } from \"@sberdevices/plasma-tokens\";\nimport { DeviceThemeProvider } from \"@sberdevices/plasma-ui/components/Device\";\nimport \"./App.css\";\nimport Chat from \"../Chat_cmp/Chat\";\nimport Statistic from \"../Statistic_cmp/Statistic\";\nimport { EndGame } from \"../EndGame_cmp/EndGame\";\nimport { findNickName, sendNickName, clearRequest } from \"../../service/API_helper\";\nimport { toNameFormat } from \"../../service/WordChecker\";\n\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\n\nconst initializeAssistant = (getState) => {\n  if (process.env.NODE_ENV === \"development\") {\n    return createSmartappDebugger({\n      token: process.env.REACT_APP_TOKEN ?? \"\",\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n      getState,\n    });\n  }\n  return createAssistant({ getState });\n};\n\nconst DocStyle = createGlobalStyle`\n    html:root {\n        min-height: 100vh;\n        color: ${text};\n        background-color: ${background};\n        background-image: ${gradient};\n    }\n`;\n\nlet newName = \"\"; //имя, сказанное голосом ассистенту\nlet userId = \"default\";\nlet nicknameGetting = false;\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"constructor\")\n    this.state = {\n      messages: [], //сказанные имена\n      nameCount: 0, //количество сказанных имен\n      character: \"sber\", //текущий персонаж\n      isEndGame: false, //обновляется, когда игра заканчивается\n      restarted: false, //изменяется, когда нужен рестарт игры\n      timerUpdate: false, //изменяется когда надо обновить таймер\n      playerWin: false, //true, если последнее слово сказано игроком\n      isPause: true, //true, если нажата пауза\n      pauseAllow: true, //true, если в данный момент можно остановить игру\n      assistantSayTime: -1, //на какой секунде ассистент должен сказать имя\n      assistantSay: false, //true, если сейчас ход ассистента\n      nickname: \"Player\", //никней пользователя\n    };\n\n    this.assistant = initializeAssistant(() => this.getStateForAssistant());\n    this.assistant.on(\"start\", (event) => {\n      this.assistant.sendData({\n        action: {\n          action_id: \"addNickname\",\n        },\n      });\n      console.log(`assistant.on(start)`, event);\n    });\n    this.assistant.on(\"data\", (event) => {\n      switch (event.type) {\n        case \"initSub\":\n          userId = event.sub;\n          console.log(`userId = ${userId}`);\n          this.getLastNick();\n          break;\n        case \"character\":\n          if (event.character.id === \"eva\") newName = \"Афина\";\n          if (event.character.id === \"joy\") newName = \"Джой\";\n          this.setState({\n            character: event.character.id,\n          });\n          break;\n      }\n      const { action } = event;\n      this.dispatchAssistantAction(action);\n    });\n  }\n\n  async componentDidMount() {\n\n  }\n\n  getLastNick = async () => {\n    if(userId !== \"default\" && !nicknameGetting) {\n      console.log(`userId = ${userId}`);\n      console.log(`current nickname = ${this.state.nickname}`);\n      let { data } = await findNickName(userId);\n      console.log(data);\n      if(data === \"\") {\n        await sendNickName(userId, this.state.nickname);\n      }\n      else {\n        this.setState({\n          nickname: data,\n        })\n      }\n      nicknameGetting = true;\n    }\n  }\n  \n  getStateForAssistant() {\n    const state = {\n      item_selector: {\n        items: this.state.messages.map(({ name, from }, index) => ({\n          name,\n          from,\n        })),\n      },\n    };\n    return state;\n  }\n  //Получение/отправка никнейма в бэкенд\n  async dispatchAssistantAction(action) {\n    console.log(\"dispatchAssistantAction\", action);\n    if (action) {\n      switch (action.type) {\n        case \"add_nickname\":\n          let newNick = await toNameFormat(action.data);\n          console.log(\"Игровое имя: \" + newNick);\n          if (newNick.length < 15) {\n            console.log(\"Correct nick\");\n            await sendNickName(userId, newNick);\n            this.setState({ nickname: newNick });\n          } else {\n            this.assistant.sendData({\n              action: {\n                action_id: \"repeat\",\n              },\n            });\n          }\n          break;\n        case \"add_name\":\n          newName = action.data;\n          this.setState(this.state);\n          break;\n        case \"restart_game\":\n          this.restart();\n          break;\n        case \"pause_game\":\n          await this.pause();\n          break;\n        case \"continue_game\":\n          if (this.state.isPause) this.pause();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  updateCount = (isPlayer) => {\n    this.setState({\n      nameCount: this.state.nameCount + 1,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: isPlayer,\n    });\n  };\n\n  endGame = async () => {\n    this.setState({\n      isEndGame: true,\n      isPause: true,\n    });\n    this.assistant.sendData({\n      action: {\n        action_id: this.state.playerWin ? \"assistantLose\" : \"assistantWin\",\n      },\n    });\n    await clearRequest(userId);\n  };\n\n  restart = async () => {\n    console.log(\"restart from App\");\n    newName = \"\";\n    this.setState({\n      messages: [],\n      nameCount: 0,\n      isEndGame: false,\n      restarted: !this.state.restarted,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: false,\n      isPause: false,\n      pauseAllow: true,\n      assistantSayTime: -1,\n      assistantSay: false,\n    });\n    await clearRequest(userId);\n  };\n\n  exit = async () => {\n    await clearRequest(userId);\n    this.assistant.close();\n  };\n\n  pause = () => {\n    if (this.state.pauseAllow) {\n      this.setState({\n        isPause: !this.state.isPause,\n      });\n    }\n  };\n\n  allowPause = (verdict) => {\n    this.setState({\n      pauseAllow: verdict,\n    });\n  };\n\n  assistantSay = () => {\n    this.setState({\n      assistantSay: true,\n      assistantSayTime: -1,\n    });\n  };\n\n  assistantSaied = () => {\n    this.setState({\n      assistantSay: false,\n    });\n  };\n  setAssistantSayTime = (sec) => {\n    this.setState({\n      assistantSayTime: sec,\n    });\n  };\n\n  render() {\n    return (\n      <DeviceThemeProvider>\n        <DocStyle />\n        {(() => {\n          switch (this.state.character) {\n            case \"sber\":\n              return <ThemeBackgroundSber />;\n            case \"eva\":\n              return <ThemeBackgroundEva />;\n            case \"joy\":\n              return <ThemeBackgroundJoy />;\n            default:\n              return;\n          }\n        })()}\n        <div\n          className=\"fill-container\"\n          style={{ display: this.state.isEndGame ? \"flex\" : \"none\" }}\n        >\n          {this.state.isEndGame ? (\n            <EndGame\n              count={this.state.nameCount}\n              restart={this.restart}\n              assistant={this.assistant}\n              character={this.state.character}\n              isWin={this.state.playerWin}\n              isEndGame={this.state.isEndGame}\n              exit={this.exit}\n            />\n          ) : (\n            <div />\n          )}\n        </div>\n        <div className=\"main-container\">\n          <Chat\n            newname={newName}\n            updateCount={this.updateCount}\n            assistant={this.assistant}\n            messages={this.state.messages}\n            restarted={this.state.restarted}\n            isPause={this.state.isPause}\n            allowPause={this.allowPause}\n            setAssistantSayTime={this.setAssistantSayTime}\n            assistantSaied={this.assistantSaied}\n            assistantSay={this.state.assistantSay}\n            userId={userId}\n          />\n          <div className=\"statistic-container\">\n            <Statistic\n              character={this.state.character}\n              count={this.state.nameCount}\n              endGame={this.endGame}\n              restart={this.restart}\n              pause={this.pause}\n              exit={this.exit}\n              isPause={this.state.isPause}\n              allowPause={this.state.pauseAllow}\n              update={this.state.timerUpdate}\n              assistant={this.assistant}\n              assistantSayTime={this.state.assistantSayTime}\n              assistantSay={this.assistantSay}\n              nickname={this.state.nickname}\n              userId={userId}\n            />\n          </div>\n        </div>\n      </DeviceThemeProvider>\n    );\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { App } from \"./components/App_cmp/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n//import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\n//import { GlobalStyle } from './GlobalStyle'; \n\nReactDOM.render(\n        <App />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}