{"version":3,"sources":["components/Chat_cmp/Message_cmp/Message.jsx","service/WordChecker.js","service/API_helper.js","components/Chat_cmp/Chat.jsx","components/Statistic_cmp/Title_cmp/images/logo_salut.png","components/Statistic_cmp/Title_cmp/images/logo_user.png","components/Statistic_cmp/Title_cmp/images/versus.png","components/Statistic_cmp/Title_cmp/Title.jsx","components/Statistic_cmp/Timer_cmp/Timer.jsx","components/Statistic_cmp/StatContainer_cmp/StatContainer.jsx","components/Statistic_cmp/Controllers_cmp/Controllers.jsx","components/Statistic_cmp/Statistic.jsx","components/EndGame_cmp/EndGame.jsx","components/Help_cmp/Help.jsx","components/App_cmp/App.jsx","reportWebVitals.ts","index.tsx"],"names":["Message","props","className","from","name","isCorrect","current_name","names","lastSym","temp","toLowerCase","length","includes","msg","i","codePointAt","inCyrillic","wrongLastChar","ws","getStartSymbol","messages","isExist","toNameFormat","toUpperCase","slice","URL","sendName","UserId","Name","a","axios","post","clearRequest","idUser","findNickName","Id","sendNickName","nickname","clicked","Chat","updateScroll","block","document","getElementById","scrollTop","scrollHeight","sayName","isPause","state","lastSayPlayer","res","userId","nameFromBackend","data","console","log","push","setState","textName","tfRef","current","value","nameForAssistant","update","timeAnswer","createAssistantSayTime","assistant","sendData","action","action_id","parameters","sym","assistantSaing","assistantSayName","getRandomInt","min","max","Math","ceil","floor","random","time","chance","endGame","setAssistantSayTime","click","enters","ev","code","React","createRef","this","nextProps","nextState","restarted","assistantSay","assistantSaied","newname","messageList","map","index","disabled","id","ref","label","onChange","v","target","onKeyDown","contentRight","size","view","onClick","Component","Title","newName","src","logo_sber","vs","logo_user","COLOR_CODES","info","color","warning","threshold","alert","TIME_LIMIT","timePassed","remainingPathColor","Timer","formatTimeLeft","minutes","seconds","calculateTimeFraction","rawTimeFraction","timeLeft","setCircleDasharray","circleDasharray","toFixed","setAttribute","setRemainingPathColor","classList","remove","add","startTimer","setInterval","isEnd","assistantSayTime","innerHTML","restartTimer","isRestart","lastAllow","allowPause","nextAllow","lastRequest","existPauseRequest","nextRequest","pause","pathClass","viewBox","xmlns","cx","cy","r","strokeDasharray","d","StatContainer","text","сount","style","margin","isWin","isEndGame","Controllers","updatePauseButton","clickPause","pauseRequest","clickRestart","restart","clickClose","exit","pin","contentLeft","Statistic","helpClick","help","character","count","edited","officialTitle","win","lose","unofficialTitle","EndGame","nameCount","result","zIndex","Help","display","helpCalled","width","rules","scaleOnInteraction","outlined","ThemeBackgroundEva","createGlobalStyle","darkEva","ThemeBackgroundSber","darkSber","ThemeBackgroundJoy","darkJoy","DocStyle","background","gradient","gameStart","App","getState","playerWin","timerUpdate","pauseAllow","close","verdict","sec","getStateForAssistant","createAssistant","on","event","setTimeout","type","dispatchAssistantAction","item_selector","items","newNick","Device","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.a20e325b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nexport default function Message(props) {\r\n  return (\r\n    <div className=\"name-item\">    \r\n      <p className={props.from}>{props.name}</p>\r\n    </div>\r\n  );\r\n}\r\n","//проверка на правильность вводимого сообщения\r\nexport function isCorrect(current_name, names) {\r\n  current_name = current_name.toLowerCase();\r\n  let temp = names;\r\n  let lastSym;\r\n  //если введено короткое имя\r\n  if (current_name.length <= 1) {\r\n    return 1;\r\n  }\r\n  //если сообщение состоит из более чем 1 слова\r\n  if (current_name.includes(\" \")) {\r\n    return 2;\r\n  }\r\n  //Проверка на кириллицу\r\n  if (!inCyrillic(current_name)) {\r\n    return 3;\r\n  }\r\n  //если это слово не первое\r\n  if (temp.length !== 0) {\r\n    let lastMsg = temp[temp.length - 1].name.toLowerCase();\r\n    //проход по символам последнего сыгранного имени с конца для определения буквы, с которой должно начинаться текущее имя\r\n    lastSym = getStartSymbol(lastMsg);\r\n    if (current_name[0] !== lastSym) {\r\n      return lastSym;\r\n    }\r\n    if(isExist(current_name, temp)) {\r\n      return 4;\r\n    }\r\n  } \r\n  return 0;\r\n}\r\n\r\nfunction getStartSymbol(msg) {\r\n  let lastSym;\r\n  let isCorrect = true;\r\n  const wrongLastChar = \"ьъы\";\r\n  for (let i = msg.length - 1; i > 0; i--) {\r\n    isCorrect = true;\r\n    for (let ws of wrongLastChar) {\r\n      //проверка символа на один из тех, на которые не может начинаться имя\r\n      if (msg[i] === ws) {\r\n        isCorrect = false;\r\n        break;\r\n      }\r\n    }\r\n    if (isCorrect) {\r\n      lastSym = msg[i]; //буква, с которой должно быть введено слово\r\n      break;\r\n    }\r\n  }\r\n  return lastSym;\r\n}\r\n\r\nfunction inCyrillic(msg) {\r\n  for (let i of msg) {\r\n    if (\r\n      !(\r\n        (i.codePointAt() <= 1103 && i.codePointAt() >= 1072) ||\r\n        i.codePointAt() === 1105\r\n      )\r\n    )\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isExist(msg, messages) {\r\n  for (let i of messages) {\r\n    if (msg.toLowerCase() === i.name.toLowerCase()) return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function toNameFormat(msg) {\r\n  if (msg.length !== 0) {\r\n    msg = msg.toLowerCase();\r\n    msg = msg[0].toUpperCase() + msg.slice(1);\r\n  }\r\n  return msg;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst URL = \"https://namesgame.herokuapp.com/\";        \r\n\r\n//отправляет сказанное игроком имя\r\n//проверяет, есть ли это имя в бд\r\n//если есть, в ответ отправляет имя, которое должен сказать ассистент\r\n//если нет, отправит пустую строку\r\nexport async function sendName(UserId, Name) {\r\n    return await axios.post(`${URL}add_used`, {\r\n        UserId,\r\n        Name,\r\n    });\r\n}   \r\n\r\n//очистить список использованных имен\r\nexport async function clearRequest(idUser) {\r\n    await axios.post(`${URL}clear_user_info`, {\"Id\": idUser,});\r\n}\r\n\r\n//если никнейм у пользователя с таким id найден, то возвращает ник, \r\n//если не найден ник или пользователь, вернет пустую строку\r\nexport async function findNickName(Id) {\r\n    return await axios.post(`${URL}get_nickname`, { Id, });\r\n}\r\n\r\n//при изменении никнейма отправить изменения в бэкенд\r\nexport async function sendNickName(idUser, nickname) {\r\n    await axios.post(`${URL}manage_nickname`, {\r\n        \"UserId\": idUser,\r\n        \"Nickname\": nickname,\r\n    })\r\n}   ","import React from \"react\";\r\nimport Message from \"./Message_cmp/Message\";\r\nimport { toNameFormat, isCorrect } from \"../../service/WordChecker\";\r\nimport { TextField, ActionButton } from \"@sberdevices/plasma-ui\";\r\nimport { IconMessage } from \"@sberdevices/plasma-icons\";\r\nimport \"./Chat.css\";\r\nimport { sendName } from \"../../service/API_helper\";\r\n\r\nlet clicked = false;\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tfRef = React.createRef();\r\n    this.state = {\r\n      textName: \"\", //текст, введенный в чате\r\n      lastSayPlayer: false, //true, если последнее имя сказал игрок\r\n      assistantSaing: false, //true, если вызван метод assistantSayName\r\n      nameForAssistant: \"\", //имя, которое должен сказать ассистент\r\n      isPause: false,\r\n    };\r\n  }\r\n\r\n  updateScroll = () => {\r\n    let block = document.getElementById(\"block\");\r\n    block.scrollTop = block.scrollHeight;\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.lastSayPlayer) clicked = true;\r\n    if (clicked) this.updateScroll();\r\n    clicked = false;\r\n  }\r\n\r\n  async shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.restarted !== nextProps.restarted) {\r\n      this.setState({\r\n        textName: \"\",\r\n        lastSayPlayer: false,\r\n        assistantSaing: false,\r\n        nameForAssistant: \"\",\r\n        isPause: false,\r\n      });\r\n      return false;\r\n    }\r\n    //если сейчас нужно говорить ассистенту\r\n    if (this.props.assistantSay !== nextProps.assistantSay) {\r\n      await this.assistantSayName(this.state.nameForAssistant);\r\n      await nextProps.assistantSaied();\r\n      return false;\r\n    }\r\n    if (this.props.newname !== nextProps.newname) {\r\n      await this.sayName(nextProps.newname);\r\n      return false;\r\n    }\r\n    if (this.props.isPause !== nextProps.isPause) return true;\r\n    if (this.props.messages !== nextProps.messages) return true;\r\n    if (this.state !== nextState) return true;\r\n    return false;\r\n  }\r\n\r\n  //добавление вводимого сообщения\r\n  sayName = async (msg) => {\r\n    if (!this.props.isPause) {\r\n      if (!this.state.lastSayPlayer) {\r\n        msg = await toNameFormat(msg); //перевод введенной строки в формат имени\r\n        let temp = await this.props.messages;\r\n        let res = await isCorrect(msg, temp); //проверка на синтаксическую корректность введенного имени\r\n        if (res === 0) {\r\n          let nameFromBackend = await sendName(this.props.userId, msg);\r\n          nameFromBackend = nameFromBackend.data;\r\n          switch (nameFromBackend) {\r\n            case \"1\": //сказанного игроком имени нет в бд\r\n              res = 5;\r\n              console.log(`res = 5`);\r\n              break;\r\n            case \"0\": //нет имени для ассистента\r\n              res = 6;\r\n              break;\r\n            default:\r\n              //пришло какое-то имя для ассистента\r\n              break;\r\n          }\r\n          if(nameFromBackend[nameFromBackend.length-1] === \".\") {\r\n            res = 6;\r\n          }\r\n          if (res !== 5) {\r\n            await temp.push({ name: msg, from: \"from-me\" });\r\n            this.setState({\r\n              textName: this.tfRef.current.value,\r\n              lastSayPlayer: true,\r\n              nameForAssistant: nameFromBackend,\r\n            });\r\n            await this.props.update(true);\r\n            let timeAnswer = 0;\r\n            if (res === 6) timeAnswer = 1;\r\n            await this.createAssistantSayTime(timeAnswer);\r\n            return;\r\n          }\r\n        }\r\n        if (res > 0 && res < 6) {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: res,\r\n            },\r\n          });\r\n          return;\r\n        } else {\r\n          await this.props.assistant.sendData({\r\n            action: {\r\n              action_id: \"firstSym\",\r\n              parameters: { sym: res.toUpperCase() },\r\n            },\r\n          });\r\n        }\r\n      } else if (!this.state.assistantSaing) {\r\n        await this.assistantSayName(this.state.nameForAssistant);\r\n      }\r\n    }\r\n  };\r\n\r\n  getRandomInt = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n  };\r\n\r\n  createAssistantSayTime = (time) => {\r\n    let chance = this.getRandomInt(0, 102);\r\n    if (time !== 0) {\r\n      chance = 101;\r\n    }\r\n    if (chance > 100 || this.state.nameForAssistant === \"\") {\r\n      this.props.endGame();\r\n    } else {\r\n      this.props.setAssistantSayTime(29);\r\n      this.setState({\r\n        assistantSaing: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  assistantSayName = (name) => {\r\n    if (name !== \"\" && name !== \"1\" && name !== \"0\") {\r\n      clicked = true;\r\n      this.props.assistant.sendData({\r\n        action: {\r\n          action_id: \"assistantSay\",\r\n          parameters: { name: name },\r\n        },\r\n      });\r\n      this.props.messages.push({ name: name, from: \"from-them\" });\r\n      this.setState({\r\n        lastSayPlayer: false,\r\n        nameForAssistant: \"\",\r\n        assistantSaing: false,\r\n      });\r\n      this.props.update(false);\r\n      this.updateScroll();\r\n    }\r\n  };\r\n\r\n  click = () => {\r\n    this.tfRef.current.value = \"\";\r\n    if (!this.props.isPause) {\r\n      this.sayName(this.state.textName);\r\n      clicked = true;\r\n    }\r\n  };\r\n\r\n  enters = (ev) => {\r\n    if (ev.code === \"Enter\") {\r\n      this.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let messageList = this.props.messages.map((msg, index) => (\r\n      <Message key={index} name={msg.name} from={msg.from} />\r\n    ));\r\n    let disabled = this.props.isPause ? true : false;\r\n    return (\r\n      <div className=\"chat\">\r\n        <div className=\"subChat\" id=\"block\">\r\n          {messageList}\r\n        </div>\r\n        <TextField\r\n          id=\"tf\"\r\n          ref={this.tfRef}\r\n          value={this.state.textName}\r\n          className=\"editText\"\r\n          label=\"Введите имя\"\r\n          disabled={disabled}\r\n          onChange={(v) =>\r\n            this.setState({\r\n              textName: v.target.value,\r\n            })\r\n          }\r\n          onKeyDown={this.enters}\r\n          contentRight={\r\n            <ActionButton\r\n              id=\"ab\"\r\n              size=\"l\"\r\n              view=\"primary\"\r\n              disabled={disabled}\r\n              onClick={this.click}\r\n              contentRight={<IconMessage />}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_salut.3ba3b2d4.png\";","export default __webpack_public_path__ + \"static/media/logo_user.cc672939.png\";","export default __webpack_public_path__ + \"static/media/versus.3401d851.png\";","import React from \"react\";\r\nimport \"./Title.css\";\r\nimport logo_sber from \"./images/logo_salut.png\";\r\nimport logo_user from \"./images/logo_user.png\";\r\nimport vs from \"./images/versus.png\";\r\n\r\nexport default class Title extends React.Component {\r\n\r\n  render() {\r\n    let newName;\r\n    switch (this.props.assistant) {\r\n      case \"sber\":\r\n        newName = \"Сбер\";\r\n        break;\r\n      case \"eva\":\r\n        newName = \"Афина\";\r\n        break;\r\n      case \"joy\":\r\n        newName = \"Джой\";\r\n        break;\r\n      default:\r\n        newName = \"Сбер\";\r\n        break;\r\n    }\r\n    return (\r\n      <div className=\"header_container\">\r\n        <div className=\"info-container\">\r\n          <img src={logo_sber} className=\"logo-header\" />\r\n          <div className=\"player-name\">{newName}</div>\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={vs} className=\"logo-header\" />\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={logo_user} className=\"logo-header\" />\r\n          <div className=\"player-name\">{this.props.nickname}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Timer.css\";\r\n\r\nconst WARNING_THRESHOLD = 10;\r\nconst ALERT_THRESHOLD = 5;\r\nconst COLOR_CODES = {\r\n  info: {\r\n    color: \"green\",\r\n  },\r\n  warning: {\r\n    color: \"orange\",\r\n    threshold: WARNING_THRESHOLD,\r\n  },\r\n  alert: {\r\n    color: \"red\",\r\n    threshold: ALERT_THRESHOLD,\r\n  },\r\n};\r\nconst TIME_LIMIT = 30;\r\nconst FULL_DASH_ARRAY = 283;\r\nlet timePassed = 0;\r\nlet timerInterval = null;\r\nlet remainingPathColor = COLOR_CODES.info.color;\r\nexport class Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.startTimer();\r\n    this.state = {\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n      isRestart: false,\r\n    };\r\n  }\r\n  formatTimeLeft = (time) => {\r\n    // Наибольшее целое число меньше или равно результату деления времени на 60.\r\n    const minutes = Math.floor(time / 60);\r\n    let seconds = time % 60;\r\n    // Если значение секунд меньше 10, тогда отображаем его с 0 впереди\r\n    if (seconds < 10) {\r\n      seconds = `0${seconds}`;\r\n    }\r\n    // Вывод в формате MM:SS\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n\r\n  // Делим оставшееся время на определенный временной лимит\r\n  calculateTimeFraction = () => {\r\n    const rawTimeFraction = this.state.timeLeft / TIME_LIMIT;\r\n    return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);\r\n  };\r\n\r\n  // Обновляем значение свойства dasharray, начиная с 283\r\n  setCircleDasharray = () => {\r\n    const circleDasharray = `${(\r\n      this.calculateTimeFraction() * FULL_DASH_ARRAY\r\n    ).toFixed(0)} 283`;\r\n    document\r\n      .getElementById(\"base-timer-path-remaining\")\r\n      .setAttribute(\"stroke-dasharray\", circleDasharray);\r\n  };\r\n\r\n  setRemainingPathColor = (timeLeft) => {\r\n    const { alert, warning, info } = COLOR_CODES;\r\n    if (timeLeft <= alert.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(alert.color);\r\n    } else if (timeLeft <= warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(info.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(warning.color);\r\n    } else if (timeLeft > warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(alert.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(info.color);\r\n    }\r\n  };\r\n\r\n  startTimer = () => {\r\n    timerInterval = setInterval(() => {\r\n      if (!this.state.isEnd) {\r\n        // Количество времени, которое прошло, увеличивается на  1\r\n        if (!this.props.isPause) {\r\n          timePassed = timePassed >= TIME_LIMIT ? 0 : (timePassed += 1);\r\n          this.setState({\r\n            timeLeft: TIME_LIMIT - timePassed,\r\n            isEnd: false,\r\n          });\r\n          if(this.props.assistantSayTime === this.state.timeLeft) {\r\n            this.props.assistantSay();\r\n          }\r\n          // Обновляем метку оставшегося времени\r\n          document.getElementById(\"base-timer-label\").innerHTML =\r\n            this.formatTimeLeft(this.state.timeLeft);\r\n            this.setRemainingPathColor(this.state.timeLeft);\r\n        } \r\n        if (this.state.timeLeft <= 0) {\r\n          this.setState({\r\n            timeLeft: 0,\r\n            isEnd: true,\r\n          });\r\n          this.props.endGame();\r\n        }\r\n        this.setCircleDasharray();\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  endGame = () => {\r\n    console.log(\"endGame from timer\")\r\n    this.props.endGame();\r\n  };\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    let lastAllow = this.props.allowPause;\r\n    let nextAllow = nextProps.allowPause;\r\n    let lastRequest = this.props.existPauseRequest;\r\n    let nextRequest = nextProps.existPauseRequest;\r\n    if((lastAllow === nextAllow && nextAllow && lastRequest !== nextRequest) || \r\n      (lastAllow !== nextAllow && nextAllow && nextRequest && lastRequest === nextRequest)) {\r\n      this.props.pause();\r\n      if (this.props.update !== nextProps.update) {\r\n        this.restartTimer();\r\n      }\r\n      //console.log(lastAllow, nextAllow, lastRequest, nextRequest)\r\n      return false;\r\n    }\r\n    if (this.props.update !== nextProps.update) {\r\n      this.restartTimer();\r\n      return true;\r\n    }\r\n    if(this.state.timeLeft !== nextState.timeLeft) return true;\r\n    return false;\r\n  }\r\n  restartTimer = async () => {\r\n    timePassed = 0;\r\n    this.setRemainingPathColor(TIME_LIMIT);\r\n    this.setState({\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n    });\r\n  };\r\n  render() {\r\n    let pathClass = `base-timer__path-remaining ${remainingPathColor}`;\r\n    return (\r\n      <div className=\"base-timer\">\r\n        <svg\r\n          className=\"base-timer__svg\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"base-timer__circle\">\r\n            <circle\r\n              className=\"base-timer__path-elapsed\"\r\n              cx=\"50\"\r\n              cy=\"50\"\r\n              r=\"45\"\r\n            />\r\n            <path\r\n              id=\"base-timer-path-remaining\"\r\n              strokeDasharray=\"283\"\r\n              className={pathClass}\r\n              d=\"\r\n          M 50, 50\r\n          m -45, 0\r\n          a 45,45 0 1,0 90,0\r\n          a 45,45 0 1,0 -90,0\r\n        \"\r\n            ></path>\r\n          </g>\r\n        </svg>\r\n        <span id=\"base-timer-label\" className=\"base-timer__label\">\r\n          {this.formatTimeLeft(this.state.timeLeft)}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Badge } from \"@sberdevices/plasma-ui\";\r\nimport { Timer } from \"../Timer_cmp/Timer\";\r\n\r\nexport default class StatContainer extends React.Component {\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  assistantSay = () => {\r\n    this.props.assistantSay();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Badge\r\n          text={`Сказано имён: ${this.props.сount}`}\r\n          size=\"l\"\r\n          style={{margin: \"15px auto\" }}\r\n        />\r\n        <Timer \r\n          endGame={this.endGame} \r\n          update={this.props.update} \r\n          isPause={this.props.isPause}\r\n          assistantSayTime={this.props.assistantSayTime}\r\n          assistantSay={this.assistantSay}\r\n          existPauseRequest={this.props.existPauseRequest}\r\n          allowPause={this.props.allowPause}\r\n          pause={this.props.pause}\r\n          isWin={this.props.isWin}\r\n          restarted={this.props.restarted}\r\n          isEndGame={this.props.isEndGame}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Button } from '@sberdevices/plasma-ui'\r\nimport { IconPause, IconPlay, IconClose, IconRefresh, IconClock } from '@sberdevices/plasma-icons'\r\nimport \"./Controllers.css\"\r\n\r\nexport class Controllers extends React.Component {\r\n\r\n    updatePauseButton = () => {\r\n        if(this.props.existPauseRequest)\r\n            return <IconPlay size=\"l\"/>\r\n        else return <IconPause size=\"l\"/>\r\n    }\r\n\r\n    clickPause = () => {\r\n        this.props.pauseRequest();\r\n    }\r\n\r\n    clickRestart = () => {\r\n        this.props.restart();\r\n    }\r\n\r\n    clickClose = () => {\r\n        this.props.exit();\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if(this.props.existPauseRequest !== nextProps.existPauseRequest) {\r\n            this.updatePauseButton();\r\n        }\r\n        return true;\r\n    }\r\n    render() {   \r\n        return (\r\n            <div>\r\n                <div className=\"controllers-container\">\r\n                    <Button\r\n                        style={{\"marginRight\": \"20px\"}}\r\n                        size=\"l\"\r\n                        view=\"primary\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={this.updatePauseButton()}\r\n                        onClick={this.clickPause} />\r\n                    <Button \r\n                        size=\"l\"    \r\n                        view=\"warning\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={<IconRefresh size=\"l\"/>}\r\n                        onClick={this.clickRestart}/>\r\n                    <Button\r\n                        style={{\"marginLeft\": \"20px\"}}\r\n                        size=\"l\"\r\n                        view=\"critical\"\r\n                        pin=\"circle-circle\"\r\n                        contentLeft={<IconClose size=\"l\"/>}\r\n                        onClick={this.clickClose}/>\r\n                </div>\r\n                <div className=\"item-clock\">\r\n                    {this.props.isPause ? <div/> : this.props.existPauseRequest ? <IconClock/> : <div/>}\r\n                    <div className=\"hide-block\" style={{\"marginRight\": \"20px\"}}/>\r\n                    <div className=\"hide-block\"/>\r\n                    <div className=\"hide-block\" style={{\"marginLeft\": \"20px\"}}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Title from \"./Title_cmp/Title\";\r\nimport StatContainer from \"./StatContainer_cmp/StatContainer\";\r\nimport { Controllers } from \"./Controllers_cmp/Controllers\";\r\nimport { Button } from \"@sberdevices/plasma-ui\";\r\nimport \"./Statistic.css\"\r\n\r\nexport default class Statistic extends React.Component {\r\n    endGame = () => {\r\n        this.props.endGame();\r\n    }\r\n    assistantSay = () => {\r\n        this.props.assistantSay();\r\n    }\r\n    helpClick = () => {\r\n        this.props.help();\r\n    }\r\n    render() {\r\n        return (\r\n        <div>\r\n            <Title \r\n                assistant={this.props.character}\r\n                nickname={this.props.nickname}\r\n            />\r\n            <StatContainer \r\n                сount={this.props.count} \r\n                endGame={this.endGame} \r\n                update={this.props.update}\r\n                isPause={this.props.isPause}\r\n                assistantSayTime={this.props.assistantSayTime}\r\n                assistantSay={this.assistantSay}\r\n                existPauseRequest={this.props.existPauseRequest}\r\n                allowPause={this.props.allowPause}\r\n                pause={this.props.pause}\r\n                isWin={this.props.isWin}\r\n                restarted={this.props.restarted}\r\n                isEndGame={this.props.isEndGame}\r\n            />\r\n            <Controllers \r\n                restart={this.props.restart} \r\n                assistant={this.props.assistant} \r\n                pauseRequest={this.props.pauseRequest}\r\n                existPauseRequest={this.props.existPauseRequest}\r\n                isPause={this.props.isPause}\r\n                exit={this.props.exit}\r\n            />\r\n            <div className=\"help-btn\">\r\n                <Button\r\n                    view=\"primary\"\r\n                    size=\"s\"\r\n                    disabled={!this.props.isPause ? true : false}\r\n                    onClick={this.helpClick}\r\n                >\r\n                Помощь\r\n                </Button>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, Card, CardBody, CardContent, CardHeadline1, Badge } from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconClose,\r\n  IconRefresh,\r\n} from \"@sberdevices/plasma-icons\";\r\nimport \"./EndGame.css\";\r\n\r\nlet edited = false;\r\nconst officialTitle = {\r\n  win: \"Вы победили!\",\r\n  lose: \"Вы проиграли\",\r\n}\r\nconst unofficialTitle = {\r\n  win: \"Ты победил!\",\r\n  lose: \"Ты проиграл\",\r\n}\r\nexport class EndGame extends React.Component {\r\n\r\n  clickRestart = () => {\r\n    edited = false;\r\n    this.props.restart();\r\n  };\r\n\r\n  clickClose = () => {\r\n    this.props.exit();\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if(nextProps.isEndGame && !edited) {\r\n      edited = true;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  render() {\r\n    console.log(this.props.character);\r\n    let nameCount = this.props.count;\r\n    let result = this.props.character === \"joy\" ? unofficialTitle : officialTitle;\r\n    return (\r\n      <Card className=\"card-container\" style={{ zIndex: 21 }}>\r\n        <CardBody>\r\n          <CardContent>\r\n            <CardHeadline1>{this.props.isWin ? result.win : result.lose}</CardHeadline1>\r\n            <Badge\r\n                text={`Сказано имён: ${nameCount}`}\r\n                size=\"l\"\r\n                style={{margin: \"30px auto\" }}\r\n            />\r\n            <div className=\"btn-container\">\r\n              <Button\r\n                style={{\"marginRight\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"warning\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconRefresh size=\"l\" />}\r\n                onClick={this.clickRestart}\r\n              />\r\n              <Button\r\n              style={{\"marginLeft\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"critical\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconClose size=\"l\" />}\r\n                onClick={this.clickClose}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {Card, CardBody, CardContent, Button, CardHeadline1, CardParagraph2} from \"@sberdevices/plasma-ui\"\r\nimport \"../App_cmp/App.css\"\r\nimport \"../EndGame_cmp/EndGame.css\"\r\n\r\nexport class Help extends React.Component {\r\n\r\n    clickClose = () => {\r\n        this.props.help();\r\n    }\r\n    render() {\r\n        return(\r\n        <div\r\n          className=\"fill-container\"\r\n          style={{ display: this.props.helpCalled && this.props.isPause ? \"flex\" : \"none\" }}\r\n        >\r\n            <Card className=\"card-container\" style={{ zIndex: 21, width: \"70%\" }}>\r\n                <CardBody>\r\n                <CardContent>\r\n                    <CardHeadline1 style={{\"textAlign\": \"center\"}}>Правила</CardHeadline1>\r\n                    <h3 style={{\"fontSize\": \"15px\"}}>{this.props.rules}</h3>\r\n                    <Button\r\n                        view = \"primary\"\r\n                        size = \"s\"\r\n                        style={{\"marginTop\": \"10px\"}}\r\n                        scaleOnInteraction={true}\r\n                        outlined={false}\r\n                        onClick={this.clickClose}\r\n                    >Закрыть\r\n                    </Button>\r\n                </CardContent>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\nimport {\n  createSmartappDebugger,\n  createAssistant,\n} from \"@sberdevices/assistant-client\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\nimport { text, background, gradient } from \"@sberdevices/plasma-tokens\";\nimport { DeviceThemeProvider } from \"@sberdevices/plasma-ui/components/Device\";\nimport \"./App.css\";\nimport Chat from \"../Chat_cmp/Chat\";\nimport Statistic from \"../Statistic_cmp/Statistic\";\nimport { EndGame } from \"../EndGame_cmp/EndGame\";\nimport { Help } from \"../Help_cmp/Help\"\nimport { findNickName, sendNickName, clearRequest } from \"../../service/API_helper\";\nimport { toNameFormat } from \"../../service/WordChecker\";\nconst rules = `Один игрок говорит имя, \n                а другой отвечает ему именем на последнюю букву. На ответ дается 30 секунд, \n                после чего игра заканчивается. Можно сменить свое игровое имя, сказав \n                \"Игровое имя\" или \"Ник\". Чтобы перезапустить игру, скажите \"заново\" или \"сначала\". \n                Чтобы приостановить игру, скажите \"пауза\". Появится значок часов. Она активируется \n                только если последнее сказанное слово было за игроком. Чтобы начать играть, скажите\n                \"начать\".`\n    \nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\n\nconst initializeAssistant = (getState) => {\n  if (process.env.NODE_ENV === \"development\") {\n    return createSmartappDebugger({\n      token: process.env.REACT_APP_TOKEN ?? \"\",\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n      getState,\n    });\n  }\n  return createAssistant({ getState });\n};\n\nconst DocStyle = createGlobalStyle`\n    html:root {\n        min-height: 100vh;\n        color: ${text};\n        background-color: ${background};\n        background-image: ${gradient};\n    }\n`;\n\nlet newName = \"\"; //имя, сказанное голосом ассистенту\nlet userId = \"default\";\nlet helpCalled = false;\nlet gameStart = false;\n\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"constructor\")\n    this.state = {\n      messages: [], //сказанные имена\n      nameCount: 0, //количество сказанных имен\n      character: \"sber\", //текущий персонаж\n      isEndGame: false, //обновляется, когда игра заканчивается\n      restarted: false, //изменяется, когда нужен рестарт игры\n      timerUpdate: false, //изменяется когда надо обновить таймер\n      playerWin: false, //true, если последнее слово сказано игроком\n      isPause: true, //true, если нажата пауза\n      pauseAllow: true, //true, если в данный момент можно остановить игру\n      existPauseRequest: true,\n      assistantSayTime: -1, //на какой секунде ассистент должен сказать имя\n      assistantSay: false, //true, если сейчас ход ассистента\n      nickname: \"Игрок\", //никней пользователя\n    };\n\n    this.assistant = initializeAssistant(() => this.getStateForAssistant());\n    this.assistant.on(\"start\", (event) => {\n      this.assistant.sendData({\n        action: {\n          action_id: \"newGame\",\n        },\n      });\n      console.log(`assistant.on(start)`, event);\n      setTimeout(this.assistant.sendData({action: {action_id: \"getSub\",}}), 300);\n    });\n\n    this.assistant.on(\"data\", (event) => {\n      switch (event.type) {\n        case \"character\":\n          if (event.character.id === \"eva\") newName = \"Афина\";\n          if (event.character.id === \"joy\") newName = \"Джой\";\n          this.setState({\n            character: event.character.id,\n          });\n          break;\n        case \"close_app\":\n          clearRequest(userId);\n          break;\n      }\n      const { action } = event;\n      this.dispatchAssistantAction(action);\n    });\n  }\n  \n  getStateForAssistant() {\n    const state = {\n      item_selector: {\n        items: this.state.messages.map(({ name, from }, index) => ({\n          name,\n          from,\n        })),\n      },\n    };\n    return state;\n  }\n  //Получение/отправка никнейма в бэкенд\n  async dispatchAssistantAction(action) {\n    console.log(\"dispatchAssistantAction\", action);\n    if (action) {\n      switch (action.type) {\n        case \"get_sub\":\n          userId = action.data;\n          let { data } = await findNickName(userId);\n          this.setState({nickname: data});\n          break;\n        case \"add_nickname\":\n          let newNick = await toNameFormat(action.data);\n          console.log(\"Игровое имя: \" + newNick);\n          if (newNick.length < 15) {\n            console.log(\"Correct nick\");\n            await sendNickName(userId, newNick);\n            this.setState({ nickname: newNick });\n          } else {\n            this.assistant.sendData({\n              action: {\n                action_id: \"repeat\",\n              },\n            });\n          }\n          break;\n        case \"add_name\":\n          newName = action.data;\n          this.setState(this.state);\n          break;\n        case \"restart_game\":\n          this.restart();\n          break;\n        case \"pause_game\":\n          if(!this.state.isPause && !this.state.isEndGame && !helpCalled )\n            this.setState({\n              existPauseRequest: !this.state.existPauseRequest,\n            });\n          break;\n        case \"continue_game\":\n          if (this.state.isPause && !this.state.isEndGame && !helpCalled)           \n            this.setState({\n              existPauseRequest: !this.state.existPauseRequest,\n            });\n          break;\n        case \"start_game\":\n          if(!gameStart && !helpCalled) {\n            console.log(this.state.existPauseRequest)\n            this.setState({\n              existPauseRequest: false\n            })\n          }\n          break;\n        case \"rules_game\":\n          if(!helpCalled && !this.state.isEndGame) {\n            this.help();\n          }\n          break;\n        case \"close_rules\":\n          if(this.state.isPause && helpCalled) {\n            helpCalled = false;\n            this.setState(this.state);\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  endGame = async () => {\n    gameStart = false;\n    this.setState({\n      isEndGame: true,\n      isPause: true,\n    });\n    this.assistant.sendData({\n      action: {\n        action_id: this.state.playerWin ? \"assistantLose\" : \"assistantWin\",\n      },\n    });\n    await clearRequest(userId);\n  };\n\n  restart = async () => {\n    console.log(\"restart\");\n    newName = \"\";\n    helpCalled = false;\n    gameStart = true;\n    this.setState({\n      messages: [],\n      nameCount: 0,\n      isEndGame: false,\n      restarted: !this.state.restarted,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: false,\n      isPause: false,\n      pauseAllow: true,\n      assistantSayTime: -1,\n      assistantSay: false,\n      existPauseRequest: false,\n    });\n    await clearRequest(userId);\n  };\n\n  exit = async () => {\n    await clearRequest(userId);\n    this.assistant.close();\n  };\n\n  pause = () => {\n    if(!gameStart) gameStart = true;\n      if(helpCalled) helpCalled = false;\n      this.setState({\n        isPause: !this.state.isPause,\n      });\n  };\n\n  update = (verdict) => {\n    this.setState({\n      nameCount: this.state.nameCount + 1,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: verdict,\n      pauseAllow: verdict,\n    });\n  };\n\n  help = () => {\n    if(this.state.isPause) {\n      helpCalled = !helpCalled;\n      if(helpCalled) {\n        this.assistant.sendData({\n          action: {\n            action_id: \"Help\",\n            parameters: { rules: rules }\n          }\n        })\n      }\n    }\n    this.setState(this.state);\n  }\n  pauseRequest = () => {\n    this.setState({\n      existPauseRequest: !this.state.existPauseRequest\n    })\n  };\n\n  assistantSay = () => {\n    this.setState({\n      assistantSay: true,\n      assistantSayTime: -1,\n    });\n  };\n\n  assistantSaied = () => {\n    this.setState({\n      assistantSay: false,\n    });\n  };\n\n  setAssistantSayTime = (sec) => {\n    this.setState({\n      assistantSayTime: sec,\n    });\n  };\n\n  render() {\n    return (\n      <DeviceThemeProvider>\n        <DocStyle />\n        {(() => {\n          switch (this.state.character) {\n            case \"sber\":\n              return <ThemeBackgroundSber />;\n            case \"eva\":\n              return <ThemeBackgroundEva />;\n            case \"joy\":\n              return <ThemeBackgroundJoy />;\n            default:\n              return;\n          }\n        })()}\n        <Help \n          helpCalled={helpCalled}\n          isPause={this.state.isPause}\n          rules={rules}\n          help={this.help}\n        />\n        <div\n          className=\"fill-container\"\n          style={{ display: this.state.isEndGame ? \"flex\" : \"none\" }}\n        >\n          {this.state.isEndGame ? (\n            <EndGame\n              count={this.state.nameCount}\n              restart={this.restart}\n              assistant={this.assistant}\n              character={this.state.character}\n              isWin={this.state.playerWin}\n              isEndGame={this.state.isEndGame}\n              exit={this.exit}\n            />\n          ) : (\n            <div />\n          )}\n        </div>\n        <div className=\"main-container\">\n          <Chat\n            newname={newName}\n            update={this.update}\n            assistant={this.assistant}\n            messages={this.state.messages}\n            restarted={this.state.restarted}\n            isPause={this.state.isPause}\n            setAssistantSayTime={this.setAssistantSayTime}\n            assistantSaied={this.assistantSaied}\n            assistantSay={this.state.assistantSay}\n            userId={userId}\n            endGame={this.endGame}\n          />\n          <div className=\"statistic-container\">\n            <Statistic\n              character={this.state.character}\n              count={this.state.nameCount}\n              endGame={this.endGame}\n              restart={this.restart}\n              pause={this.pause}\n              exit={this.exit}\n              help={this.help}\n              isPause={this.state.isPause}\n              allowPause={this.state.pauseAllow}\n              pauseRequest={this.pauseRequest}\n              update={this.state.timerUpdate}\n              assistant={this.assistant}\n              assistantSayTime={this.state.assistantSayTime}\n              assistantSay={this.assistantSay}\n              nickname={this.state.nickname}\n              existPauseRequest={this.state.existPauseRequest}\n              isWin={this.state.playerWin}\n              restarted={this.state.restarted}\n              isEndGame={this.state.isEndGame}\n              helpCalled={helpCalled}\n            />\n          </div>\n        </div>\n      </DeviceThemeProvider>\n    );\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { App } from \"./components/App_cmp/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n//import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\n//import { GlobalStyle } from './GlobalStyle'; \n\nReactDOM.render(\n        <App />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}