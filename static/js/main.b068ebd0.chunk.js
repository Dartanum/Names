(this["webpackJsonpsalute-demo-app"]=this["webpackJsonpsalute-demo-app"]||[]).push([[0],{108:function(t,e,s){},109:function(t,e,s){},160:function(t,e,s){},161:function(t,e,s){},162:function(t,e,s){},163:function(t,e,s){},164:function(t,e,s){},168:function(t,e,s){"use strict";s.r(e);var a=s(2),n=s(0),r=s.n(n),i=s(37),c=s.n(i),o=(s(76),s(6)),u=s.n(o),l=s(15),p=s(9),h=s(10),d=s(12),m=s(11),f=s(63),b=s(64),j=s(1),x=s(24),y=s(3),v=s(69);s(49),s(108);function O(t){return Object(a.jsx)("div",{className:"name-item",children:Object(a.jsx)("p",{className:t.from,children:t.name})})}var g=s(27);function k(t,e){var s,a=e;if((t=t.toLowerCase()).length<=1)return 1;if(t.includes(" "))return 2;if(!function(t){var e,s=Object(g.a)(t);try{for(s.s();!(e=s.n()).done;){var a=e.value;if(!(a.codePointAt()<=1103&&a.codePointAt()>=1072||1105===a.codePointAt()))return!1}}catch(n){s.e(n)}finally{s.f()}return!0}(t))return 3;if(0!==a.length){if(s=function(t){for(var e,s=!0,a="\u044c\u044a\u044b",n=t.length-1;n>0;n--){s=!0;var r,i=Object(g.a)(a);try{for(i.s();!(r=i.n()).done;){var c=r.value;if(t[n]===c){s=!1;break}}}catch(o){i.e(o)}finally{i.f()}if(s){e=t[n];break}}return e}(a[a.length-1].name.toLowerCase()),t[0]!==s)return s;if(function(t,e){var s,a=Object(g.a)(e);try{for(a.s();!(s=a.n()).done;){var n=s.value;if(t.toLowerCase()===n.name.toLowerCase())return!0}}catch(r){a.e(r)}finally{a.f()}return!1}(t,a))return 4}return 0}function S(t){return 0!==t.length&&(t=(t=t.toLowerCase())[0].toUpperCase()+t.slice(1)),t}var P=s(5),w=s(8),C=(s(109),s(21)),R=s.n(C),N="https://namesgame.herokuapp.com/";function G(t,e){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(u.a.mark((function t(e,s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("".concat(N,"add_used"),{UserId:e,Name:s});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("".concat(N,"clear_user_info"),{Id:e});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("".concat(N,"get_nickname"),{Id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t,e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(u.a.mark((function t(e,s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("".concat(N,"manage_nickname"),{UserId:e,Nickname:s});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I,z=!1,F=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(t){var a;return Object(p.a)(this,s),(a=e.call(this,t)).updateScroll=function(){var t=document.getElementById("block");t.scrollTop=t.scrollHeight},a.sayName=function(){var t=Object(l.a)(u.a.mark((function t(e){var s,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.isPause){t.next=50;break}if(a.state.lastSayPlayer){t.next=47;break}return t.next=4,S(e);case 4:return e=t.sent,t.next=7,a.props.messages;case 7:return s=t.sent,t.next=10,k(e,s);case 10:if(0!==(n=t.sent)){t.next=37;break}return t.next=14,G(a.props.userId,e);case 14:r=(r=t.sent).data,t.t0=r,t.next="1"===t.t0?19:"0"===t.t0?22:24;break;case 19:return n=5,console.log("res = 5"),t.abrupt("break",25);case 22:return n=6,t.abrupt("break",25);case 24:return t.abrupt("break",25);case 25:if("."===r[r.length-1]&&(n=6),5===n){t.next=37;break}return t.next=29,s.push({name:e,from:"from-me"});case 29:return a.setState({textName:a.tfRef.current.value,lastSayPlayer:!0,nameForAssistant:r}),t.next=32,a.props.update(!0);case 32:return i=0,6===n&&(i=1),t.next=36,a.createAssistantSayTime(i);case 36:return t.abrupt("return");case 37:if(!(n>0&&n<6)){t.next=43;break}return t.next=40,a.props.assistant.sendData({action:{action_id:n}});case 40:return t.abrupt("return");case 43:return t.next=45,a.props.assistant.sendData({action:{action_id:"firstSym",parameters:{sym:n.toUpperCase()}}});case 45:t.next=50;break;case 47:if(a.state.assistantSaing){t.next=50;break}return t.next=50,a.assistantSayName(a.state.nameForAssistant);case 50:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},a.createAssistantSayTime=function(t){var e=a.getRandomInt(0,102);0!==t&&(e=101),e>100||""===a.state.nameForAssistant?a.props.endGame():(a.props.setAssistantSayTime(29),a.setState({assistantSaing:!0}))},a.assistantSayName=function(t){""!==t&&"1"!==t&&"0"!==t&&(z=!0,a.props.assistant.sendData({action:{action_id:"assistantSay",parameters:{name:t}}}),a.props.messages.push({name:t,from:"from-them"}),a.setState({lastSayPlayer:!1,nameForAssistant:"",assistantSaing:!1}),a.props.update(!1),a.updateScroll())},a.click=function(){a.tfRef.current.value="",a.props.isPause||(a.sayName(a.state.textName),z=!0)},a.enters=function(t){"Enter"===t.code&&a.click()},a.tfRef=r.a.createRef(),a.state={textName:"",lastSayPlayer:!1,assistantSaing:!1,nameForAssistant:"",isPause:!1},a}return Object(h.a)(s,[{key:"componentDidUpdate",value:function(){this.state.lastSayPlayer&&(z=!0),z&&this.updateScroll(),z=!1}},{key:"shouldComponentUpdate",value:function(){var t=Object(l.a)(u.a.mark((function t(e,s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.restarted===e.restarted){t.next=3;break}return this.setState({textName:"",lastSayPlayer:!1,assistantSaing:!1,nameForAssistant:"",isPause:!1}),t.abrupt("return",!1);case 3:if(this.props.assistantSay===e.assistantSay){t.next=9;break}return t.next=6,this.assistantSayName(this.state.nameForAssistant);case 6:return t.next=8,e.assistantSaied();case 8:return t.abrupt("return",!1);case 9:if(this.props.newname===e.newname){t.next=13;break}return t.next=12,this.sayName(e.newname);case 12:return t.abrupt("return",!1);case 13:if(this.props.isPause===e.isPause){t.next=15;break}return t.abrupt("return",!0);case 15:if(this.props.messages===e.messages){t.next=17;break}return t.abrupt("return",!0);case 17:if(this.state===s){t.next=19;break}return t.abrupt("return",!0);case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,this)})));return function(e,s){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.messages.map((function(t,e){return Object(a.jsx)(O,{name:t.name,from:t.from},e)})),s=!!this.props.isPause;return Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)("div",{className:"subChat",id:"block",children:e}),Object(a.jsx)(P.TextField,{id:"tf",ref:this.tfRef,value:this.state.textName,className:"editText",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",disabled:s,onChange:function(e){return t.setState({textName:e.target.value})},onKeyDown:this.enters,contentRight:Object(a.jsx)(P.ActionButton,{id:"ab",size:"l",view:"primary",disabled:s,onClick:this.click,contentRight:Object(a.jsx)(w.g,{})})})]})}}]),s}(r.a.Component),D=(s(160),s.p+"static/media/logo_salut.3ba3b2d4.png"),U=s.p+"static/media/logo_user.cc672939.png",W=s.p+"static/media/versus.3401d851.png",M=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){return Object(p.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t;switch(this.props.assistant){case"sber":t="\u0421\u0431\u0435\u0440";break;case"eva":t="\u0410\u0444\u0438\u043d\u0430";break;case"joy":t="\u0414\u0436\u043e\u0439";break;default:t="\u0421\u0431\u0435\u0440"}return Object(a.jsxs)("div",{className:"header_container",children:[Object(a.jsxs)("div",{className:"info-container",children:[Object(a.jsx)("img",{src:D,className:"logo-header"}),Object(a.jsx)("div",{className:"player-name",children:t})]}),Object(a.jsx)("div",{className:"info-container",children:Object(a.jsx)("img",{src:W,className:"logo-header"})}),Object(a.jsxs)("div",{className:"info-container",children:[Object(a.jsx)("img",{src:U,className:"logo-header"}),Object(a.jsx)("div",{className:"player-name",children:this.props.nickname})]})]})}}]),s}(r.a.Component),H=(s(161),{info:{color:"green"},warning:{color:"orange",threshold:10},alert:{color:"red",threshold:5}}),J=30,K=0,Q=H.info.color,V=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(t){var a;return Object(p.a)(this,s),(a=e.call(this,t)).formatTimeLeft=function(t){var e=Math.floor(t/60),s=t%60;return s<10&&(s="0".concat(s)),"".concat(e,":").concat(s)},a.calculateTimeFraction=function(){var t=a.state.timeLeft/J;return t-1/J*(1-t)},a.setCircleDasharray=function(){var t="".concat((283*a.calculateTimeFraction()).toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",t)},a.setRemainingPathColor=function(t){var e=H.alert,s=H.warning,a=H.info;t<=e.threshold?(document.getElementById("base-timer-path-remaining").classList.remove(s.color),document.getElementById("base-timer-path-remaining").classList.add(e.color)):t<=s.threshold?(document.getElementById("base-timer-path-remaining").classList.remove(a.color),document.getElementById("base-timer-path-remaining").classList.add(s.color)):t>s.threshold&&(document.getElementById("base-timer-path-remaining").classList.remove(e.color),document.getElementById("base-timer-path-remaining").classList.remove(s.color),document.getElementById("base-timer-path-remaining").classList.add(a.color))},a.startTimer=function(){setInterval((function(){a.state.isEnd||(a.props.isPause||(K=K>=J?0:K+=1,a.setState({timeLeft:J-K,isEnd:!1}),a.props.assistantSayTime===a.state.timeLeft&&a.props.assistantSay(),document.getElementById("base-timer-label").innerHTML=a.formatTimeLeft(a.state.timeLeft),a.setRemainingPathColor(a.state.timeLeft)),a.state.timeLeft<=0&&(a.setState({timeLeft:0,isEnd:!0}),a.props.endGame()),a.setCircleDasharray())}),1e3)},a.endGame=function(){console.log("endGame from timer"),a.props.endGame()},a.restartTimer=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K=0,a.setRemainingPathColor(J),a.setState({timeLeft:J,isEnd:!1});case 3:case"end":return t.stop()}}),t)}))),a.startTimer(),a.state={timeLeft:J,isEnd:!1,isRestart:!1},a}return Object(h.a)(s,[{key:"shouldComponentUpdate",value:function(t,e){var s=this.props.allowPause,a=t.allowPause,n=this.props.existPauseRequest,r=t.existPauseRequest;return s===a&&a&&n!==r||s!==a&&a&&r&&n===r?(this.props.pause(),this.props.update!==t.update&&this.restartTimer(),!1):this.props.update!==t.update?(this.restartTimer(),!0):this.state.timeLeft!==e.timeLeft}},{key:"render",value:function(){var t="base-timer__path-remaining ".concat(Q);return Object(a.jsxs)("div",{className:"base-timer",children:[Object(a.jsx)("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsxs)("g",{className:"base-timer__circle",children:[Object(a.jsx)("circle",{className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),Object(a.jsx)("path",{id:"base-timer-path-remaining",strokeDasharray:"283",className:t,d:"\r M 50, 50\r m -45, 0\r a 45,45 0 1,0 90,0\r a 45,45 0 1,0 -90,0\r "})]})}),Object(a.jsx)("span",{id:"base-timer-label",className:"base-timer__label",children:this.formatTimeLeft(this.state.timeLeft)})]})}}]),s}(r.a.Component),X=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(p.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).endGame=function(){t.props.endGame()},t.assistantSay=function(){t.props.assistantSay()},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(P.Badge,{text:"\u0421\u043a\u0430\u0437\u0430\u043d\u043e \u0438\u043c\u0451\u043d: ".concat(this.props.\u0441ount),size:"l",style:{margin:"15px auto"}}),Object(a.jsx)(V,{endGame:this.endGame,update:this.props.update,isPause:this.props.isPause,assistantSayTime:this.props.assistantSayTime,assistantSay:this.assistantSay,existPauseRequest:this.props.existPauseRequest,allowPause:this.props.allowPause,pause:this.props.pause,isWin:this.props.isWin,restarted:this.props.restarted,isEndGame:this.props.isEndGame})]})}}]),s}(r.a.Component),Y=(s(162),function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(p.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).updatePauseButton=function(){return t.props.existPauseRequest?Object(a.jsx)(w.j,{size:"l"}):Object(a.jsx)(w.i,{size:"l"})},t.clickPause=function(){t.props.pauseRequest()},t.clickRestart=function(){t.props.restart()},t.clickClose=function(){t.props.exit()},t}return Object(h.a)(s,[{key:"shouldComponentUpdate",value:function(t,e){return this.props.existPauseRequest!==t.existPauseRequest&&this.updatePauseButton(),!0}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"controllers-container",children:[Object(a.jsx)(P.Button,{style:{marginRight:"20px"},size:"l",view:"primary",pin:"circle-circle",contentLeft:this.updatePauseButton(),onClick:this.clickPause}),Object(a.jsx)(P.Button,{size:"l",view:"warning",pin:"circle-circle",contentLeft:Object(a.jsx)(w.l,{size:"l"}),onClick:this.clickRestart}),Object(a.jsx)(P.Button,{style:{marginLeft:"20px"},size:"l",view:"critical",pin:"circle-circle",contentLeft:Object(a.jsx)(w.e,{size:"l"}),onClick:this.clickClose})]}),Object(a.jsxs)("div",{className:"item-clock",children:[this.props.isPause?Object(a.jsx)("div",{}):this.props.existPauseRequest?Object(a.jsx)(w.d,{}):Object(a.jsx)("div",{}),Object(a.jsx)("div",{className:"hide-block",style:{marginRight:"20px"}}),Object(a.jsx)("div",{className:"hide-block"}),Object(a.jsx)("div",{className:"hide-block",style:{marginLeft:"20px"}})]})]})}}]),s}(r.a.Component)),Z=(s(163),function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(p.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).endGame=function(){t.props.endGame()},t.assistantSay=function(){t.props.assistantSay()},t.helpClick=function(){t.props.help()},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(M,{assistant:this.props.character,nickname:this.props.nickname}),Object(a.jsx)(X,{"\u0441ount":this.props.count,endGame:this.endGame,update:this.props.update,isPause:this.props.isPause,assistantSayTime:this.props.assistantSayTime,assistantSay:this.assistantSay,existPauseRequest:this.props.existPauseRequest,allowPause:this.props.allowPause,pause:this.props.pause,isWin:this.props.isWin,restarted:this.props.restarted,isEndGame:this.props.isEndGame}),Object(a.jsx)(Y,{restart:this.props.restart,assistant:this.props.assistant,pauseRequest:this.props.pauseRequest,existPauseRequest:this.props.existPauseRequest,isPause:this.props.isPause,exit:this.props.exit}),Object(a.jsx)("div",{className:"help-btn",children:Object(a.jsx)(P.Button,{view:"primary",size:"s",disabled:!this.props.isPause,onClick:this.helpClick,children:"\u041f\u043e\u043c\u043e\u0449\u044c"})})]})}}]),s}(r.a.Component)),$=(s(62),!1),tt={win:"\u0412\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438!",lose:"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438"},et={win:"\u0422\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b!",lose:"\u0422\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b"},st=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(p.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).clickRestart=function(){$=!1,t.props.restart()},t.clickClose=function(){t.props.exit()},t}return Object(h.a)(s,[{key:"shouldComponentUpdate",value:function(t,e){return!(!t.isEndGame||$)&&($=!0,!0)}},{key:"render",value:function(){console.log(this.props.character);var t=this.props.count,e="joy"===this.props.character?et:tt;return Object(a.jsx)(P.Card,{className:"card-container",style:{zIndex:21},children:Object(a.jsx)(P.CardBody,{children:Object(a.jsxs)(P.CardContent,{children:[Object(a.jsx)(P.CardHeadline1,{children:this.props.isWin?e.win:e.lose}),Object(a.jsx)(P.Badge,{text:"\u0421\u043a\u0430\u0437\u0430\u043d\u043e \u0438\u043c\u0451\u043d: ".concat(t),size:"l",style:{margin:"30px auto"}}),Object(a.jsxs)("div",{className:"btn-container",children:[Object(a.jsx)(P.Button,{style:{marginRight:"15px"},size:"l",view:"warning",pin:"circle-circle",contentLeft:Object(a.jsx)(w.l,{size:"l"}),onClick:this.clickRestart}),Object(a.jsx)(P.Button,{style:{marginLeft:"15px"},size:"l",view:"critical",pin:"circle-circle",contentLeft:Object(a.jsx)(w.e,{size:"l"}),onClick:this.clickClose})]})]})})})}}]),s}(r.a.Component),at=(s(164),function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(p.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).clickClose=function(){t.props.help()},t}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"fill-container",style:{display:this.props.helpCalled&&this.props.isPause?"flex":"none"},children:Object(a.jsx)(P.Card,{className:"card-container",style:{zIndex:21,width:"70%"},children:Object(a.jsx)(P.CardBody,{className:"card-style",children:Object(a.jsxs)(P.CardContent,{children:[Object(a.jsx)(P.CardHeadline2,{style:{textAlign:"center"},children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"}),Object(a.jsx)(P.CardParagraph2,{style:{fontSize:"70%"},lines:10,children:this.props.rules}),Object(a.jsx)(P.Button,{view:"primary",size:"s",style:{marginTop:"10px"},scaleOnInteraction:!0,outlined:!1,onClick:this.clickClose,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})})})}}]),s}(r.a.Component));function nt(){var t=Object(f.a)(["\n    html:root {\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n        background-image: ",";\n    }\n"]);return nt=function(){return t},t}function rt(t){var e="off"===t?"\u0441\u043a\u0430\u0436\u0438\u0442\u0435":"\u0441\u043a\u0430\u0436\u0438";return"\u041e\u0434\u0438\u043d \u0438\u0433\u0440\u043e\u043a \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u0438\u043c\u044f, \n                \u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0431\u0443\u043a\u0432\u0443. \u041d\u0430 \u043e\u0442\u0432\u0435\u0442 \u0434\u0430\u0435\u0442\u0441\u044f 30 \u0441\u0435\u043a\u0443\u043d\u0434, \n                \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f. \u041c\u043e\u0436\u043d\u043e \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0435 \u0438\u0433\u0440\u043e\u0432\u043e\u0435 \u0438\u043c\u044f, \u0441\u043a\u0430\u0437\u0430\u0432 \n                \xab\u0418\u0433\u0440\u043e\u0432\u043e\u0435 \u0438\u043c\u044f\xbb \u0438\u043b\u0438 \xab\u041d\u0438\u043a\xbb. \u0427\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443, ".concat(e," \xab\u0437\u0430\u043d\u043e\u0432\u043e\xbb \u0438\u043b\u0438 \xab\u0441\u043d\u0430\u0447\u0430\u043b\u0430\xbb. \n                \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443, ").concat(e," \xab\u043f\u0430\u0443\u0437\u0430\xbb. \u041f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u043e\u043a \u0447\u0430\u0441\u043e\u0432. \u041e\u043d\u0430 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442\u0441\u044f \n                \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0431\u044b\u043b\u043e \u0437\u0430 \u0438\u0433\u0440\u043e\u043a\u043e\u043c. \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0430\u0442\u044c, ").concat(e,"\n                \xab\u043d\u0430\u0447\u0430\u0442\u044c\xbb.")}var it=Object(j.createGlobalStyle)(x.darkEva),ct=Object(j.createGlobalStyle)(x.darkSber),ot=Object(j.createGlobalStyle)(x.darkJoy),ut=Object(j.createGlobalStyle)(nt(),y.text,y.background,y.gradient),lt="",pt="default",ht=!1,dt=!1,mt=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(t){var a,n;return Object(p.a)(this,s),(a=e.call(this,t)).endGame=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return dt=!1,a.setState({isEndGame:!0,isPause:!0}),a.assistant.sendData({action:{action_id:a.state.playerWin?"assistantLose":"assistantWin"}}),t.next=5,A(pt);case 5:case"end":return t.stop()}}),t)}))),a.restart=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("restart"),lt="",ht=!1,dt=!0,a.setState({messages:[],nameCount:0,isEndGame:!1,restarted:!a.state.restarted,timerUpdate:!a.state.timerUpdate,playerWin:!1,isPause:!1,pauseAllow:!0,assistantSayTime:-1,assistantSay:!1,existPauseRequest:!1}),t.next=7,A(pt);case 7:case"end":return t.stop()}}),t)}))),a.exit=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(pt);case 2:a.assistant.close();case 3:case"end":return t.stop()}}),t)}))),a.pause=function(){dt||(dt=!0),ht&&(ht=!1),a.setState({isPause:!a.state.isPause})},a.update=function(t){a.setState({nameCount:a.state.nameCount+1,timerUpdate:!a.state.timerUpdate,playerWin:t,pauseAllow:t})},a.help=function(){a.state.isPause&&(ht=!ht)&&a.assistant.sendData({action:{action_id:"Help",parameters:{rules:I}}}),a.setState(a.state)},a.pauseRequest=function(){a.setState({existPauseRequest:!a.state.existPauseRequest})},a.assistantSay=function(){a.setState({assistantSay:!0,assistantSayTime:-1})},a.assistantSaied=function(){a.setState({assistantSay:!1})},a.setAssistantSayTime=function(t){a.setState({assistantSayTime:t})},console.log("constructor"),a.state={messages:[],nameCount:0,character:"sber",isEndGame:!1,restarted:!1,timerUpdate:!1,playerWin:!1,isPause:!0,pauseAllow:!0,existPauseRequest:!0,assistantSayTime:-1,assistantSay:!1,nickname:"\u0418\u0433\u0440\u043e\u043a"},a.assistant=(n=function(){return a.getStateForAssistant()},Object(b.createAssistant)({getState:n})),a.assistant.on("start",(function(t){a.assistant.sendData({action:{action_id:"newGame"}}),console.log("assistant.on(start)",t),I=rt("off"),setTimeout(a.assistant.sendData({action:{action_id:"getSub"}}),300)})),a.assistant.on("data",(function(t){switch(t.type){case"character":I=rt("off"),"joy"===t.character.id&&(lt="\u0414\u0436\u043e\u0439",I=rt("unoff")),"eva"===t.character.id&&(lt="\u0410\u0444\u0438\u043d\u0430"),"sber"===t.character.id&&(lt="\u0421\u0431\u0435\u0440"),a.setState({character:t.character.id});break;case"close_app":A(pt)}var e=t.action;a.dispatchAssistantAction(e)})),a}return Object(h.a)(s,[{key:"getStateForAssistant",value:function(){return console.log("getStateForAssistant"),{item_selector:{items:this.state.isPause}}}},{key:"dispatchAssistantAction",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var s,a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("dispatchAssistantAction",e),!e){t.next=41;break}t.t0=e.type,t.next="get_sub"===t.t0?5:"add_nickname"===t.t0?12:"add_name"===t.t0?25:"restart_game"===t.t0?28:"pause_game"===t.t0?30:"continue_game"===t.t0?32:"start_game"===t.t0?34:"rules_game"===t.t0?36:"close_rules"===t.t0?38:40;break;case 5:return pt=e.data,t.next=8,T(pt);case 8:return s=t.sent,a=s.data,this.setState({nickname:a}),t.abrupt("break",41);case 12:return t.next=14,S(e.data);case 14:if(n=t.sent,console.log("\u0418\u0433\u0440\u043e\u0432\u043e\u0435 \u0438\u043c\u044f: "+n),!(n.length<15)){t.next=23;break}return console.log("Correct nick"),t.next=20,q(pt,n);case 20:this.setState({nickname:n}),t.next=24;break;case 23:this.assistant.sendData({action:{action_id:"repeat"}});case 24:return t.abrupt("break",41);case 25:return lt=e.data,this.setState(this.state),t.abrupt("break",41);case 28:return this.restart(),t.abrupt("break",41);case 30:return this.state.isPause||this.state.isEndGame||ht||this.setState({existPauseRequest:!this.state.existPauseRequest}),t.abrupt("break",41);case 32:return!this.state.isPause||this.state.isEndGame||ht||this.setState({existPauseRequest:!this.state.existPauseRequest}),t.abrupt("break",41);case 34:return dt||ht||(console.log(this.state.existPauseRequest),this.setState({existPauseRequest:!1})),t.abrupt("break",41);case 36:return ht||this.state.isEndGame||this.help(),t.abrupt("break",41);case 38:return this.state.isPause&&ht&&(ht=!1,this.setState(this.state)),t.abrupt("break",41);case 40:return t.abrupt("break",41);case 41:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(a.jsxs)(v.DeviceThemeProvider,{children:[Object(a.jsx)(ut,{}),function(){switch(t.state.character){case"sber":return Object(a.jsx)(ct,{});case"eva":return Object(a.jsx)(it,{});case"joy":return Object(a.jsx)(ot,{});default:return}}(),Object(a.jsx)(at,{helpCalled:ht,isPause:this.state.isPause,rules:I,help:this.help}),Object(a.jsx)("div",{className:"fill-container",style:{display:this.state.isEndGame?"flex":"none"},children:this.state.isEndGame?Object(a.jsx)(st,{count:this.state.nameCount,restart:this.restart,assistant:this.assistant,character:this.state.character,isWin:this.state.playerWin,isEndGame:this.state.isEndGame,exit:this.exit}):Object(a.jsx)("div",{})}),Object(a.jsxs)("div",{className:"main-container",children:[Object(a.jsx)(F,{newname:lt,update:this.update,assistant:this.assistant,messages:this.state.messages,restarted:this.state.restarted,isPause:this.state.isPause,setAssistantSayTime:this.setAssistantSayTime,assistantSaied:this.assistantSaied,assistantSay:this.state.assistantSay,userId:pt,endGame:this.endGame}),Object(a.jsx)("div",{className:"statistic-container",children:Object(a.jsx)(Z,{character:this.state.character,count:this.state.nameCount,endGame:this.endGame,restart:this.restart,pause:this.pause,exit:this.exit,help:this.help,isPause:this.state.isPause,allowPause:this.state.pauseAllow,pauseRequest:this.pauseRequest,update:this.state.timerUpdate,assistant:this.assistant,assistantSayTime:this.state.assistantSayTime,assistantSay:this.assistantSay,nickname:this.state.nickname,existPauseRequest:this.state.existPauseRequest,isWin:this.state.playerWin,restarted:this.state.restarted,isEndGame:this.state.isEndGame,helpCalled:ht})})]})]})}}]),s}(r.a.Component),ft=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,169)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;s(t),a(t),n(t),r(t),i(t)}))};c.a.render(Object(a.jsx)(mt,{}),document.getElementById("root")),ft()},49:function(t,e,s){},62:function(t,e,s){},76:function(t,e,s){}},[[168,1,2]]]);
//# sourceMappingURL=main.b068ebd0.chunk.js.map