{"version":3,"sources":["components/Chat_cmp/Message_cmp/Message.jsx","service/WordChecker.js","components/Chat_cmp/Chat.jsx","components/Statistic_cmp/Title_cmp/images/logo_salut.png","components/Statistic_cmp/Title_cmp/images/logo_user.png","components/Statistic_cmp/Title_cmp/images/versus.png","components/Statistic_cmp/Title_cmp/Title.jsx","components/Statistic_cmp/Timer_cmp/Timer.jsx","components/Statistic_cmp/StatContainer_cmp/StatContainer.jsx","components/Statistic_cmp/Controllers_cmp/Controllers.jsx","components/Statistic_cmp/Statistic.jsx","components/EndGame_cmp/EndGame.jsx","components/App_cmp/App.jsx","reportWebVitals.ts","index.tsx"],"names":["Message","props","className","from","name","isCorrect","current_name","names","lastSym","temp","toLowerCase","length","includes","msg","i","codePointAt","inCyrillic","wrongLastChar","ws","getStartSymbol","messages","isExist","clicked","Chat","updateScroll","block","document","getElementById","scrollTop","scrollHeight","toNameFormat","toUpperCase","slice","sayName","isPause","state","lastSayPlayer","assistantSaing","assistantSayName","nameForAssistant","res","checker","push","nameFromBackend","setState","textName","tfRef","current","value","allowPause","updateCount","createAssistantSayTime","assistant","sendData","action","action_id","parameters","sym","getRandomInt","min","max","Math","ceil","floor","random","timeReply","console","log","setAssistantSayTime","click","enters","ev","code","React","createRef","this","nextProps","nextState","restarted","assistantSay","assistantSaied","newname","messageList","map","index","id","ref","label","onChange","v","target","onKeyDown","contentRight","size","view","onClick","Component","Title","newName","src","logo_sber","vs","logo_user","nickname","COLOR_CODES","info","color","warning","threshold","alert","TIME_LIMIT","timePassed","remainingPathColor","Timer","formatTimeLeft","time","minutes","seconds","calculateTimeFraction","rawTimeFraction","timeLeft","setCircleDasharray","circleDasharray","toFixed","setAttribute","setRemainingPathColor","classList","remove","add","startTimer","setInterval","isEnd","assistantSayTime","innerHTML","endGame","restartTimer","isRestart","update","pathClass","viewBox","xmlns","cx","cy","r","strokeDasharray","d","StatContainer","text","сount","style","width","margin","Controllers","updatePauseButton","clickPause","pause","clickRestart","restart","clickClose","setTimeout","close","pin","contentLeft","Statistic","character","count","EndGame","nameCount","zIndex","isWin","ThemeBackgroundEva","createGlobalStyle","darkEva","ThemeBackgroundSber","darkSber","ThemeBackgroundJoy","darkJoy","DocStyle","background","gradient","App","getState","isPlayer","timerUpdate","playerWin","a","isEndGame","pauseAllow","verdict","sec","getStateForAssistant","createAssistant","on","event","type","sub","dispatchAssistantAction","item_selector","items","newNick","data","Device","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"kcAGe,SAASA,EAAQC,GAC9B,OACE,qBAAKC,UAAU,YAAf,SACE,mBAAGA,UAAWD,EAAME,KAApB,SAA2BF,EAAMG,S,YCmExBC,MAxEf,SAAmBC,EAAcC,GAE/B,IACIC,EADAC,EAAOF,EAGX,IAJAD,EAAeA,EAAaI,eAIXC,QAAU,EACzB,OAAO,EAGT,GAAIL,EAAaM,SAAS,KACxB,OAAO,EAGT,IAuCF,SAAoBC,GAAM,IAAD,gBACTA,GADS,IACvB,2BAAmB,CAAC,IAAXC,EAAU,QACjB,KAEKA,EAAEC,eAAiB,MAAQD,EAAEC,eAAiB,MAC3B,OAApBD,EAAEC,eAGJ,OAAO,GARY,8BAUvB,OAAO,EAjDFC,CAAWV,GACd,OAAO,EAGT,GAAoB,IAAhBG,EAAKE,OAAc,CAIrB,GADAH,EAWJ,SAAwBK,GAItB,IAHA,IAAIL,EACAH,GAAY,EACVY,EAAgB,qBACbH,EAAID,EAAIF,OAAS,EAAGG,EAAI,EAAGA,IAAK,CACvCT,GAAY,EAD2B,oBAExBY,GAFwB,IAEvC,2BAA8B,CAAC,IAAtBC,EAAqB,QAE5B,GAAIL,EAAIC,KAAOI,EAAI,CACjBb,GAAY,EACZ,QANmC,8BASvC,GAAIA,EAAW,CACbG,EAAUK,EAAIC,GACd,OAGJ,OAAON,EA7BKW,CAFIV,EAAKA,EAAKE,OAAS,GAAGP,KAAKM,eAGrCJ,EAAa,KAAOE,EACtB,OAAOA,EAET,GAyCJ,SAAiBK,EAAKO,GAAW,IAAD,gBAChBA,GADgB,IAC9B,2BAAwB,CAAC,IAAhBN,EAAe,QACtB,GAAID,EAAIH,gBAAkBI,EAAEV,KAAKM,cAAe,OAAO,GAF3B,8BAI9B,OAAO,EA7CFW,CAAQf,EAAcG,GACvB,OAAO,EAGX,OAAO,G,cCtBLa,G,QAAU,GAEOC,E,kDACnB,WAAYtB,GAAQ,IAAD,8BACjB,cAAMA,IAWRuB,aAAe,WACb,IAAIC,EAAQC,SAASC,eAAe,SACpCF,EAAMG,UAAYH,EAAMI,cAdP,EAiDnBC,aAAe,SAACjB,GAKd,OAJmB,IAAfA,EAAIF,SAENE,GADAA,EAAMA,EAAIH,eACA,GAAGqB,cAAgBlB,EAAImB,MAAM,IAElCnB,GAtDU,EAyDnBoB,QAAU,SAACpB,GACT,IAAK,EAAKZ,MAAMiC,QACd,GAAK,EAAKC,MAAMC,cAmCJ,EAAKD,MAAME,gBACrB,EAAKC,iBAAiB,EAAKH,MAAMI,sBApCJ,CAC7B1B,EAAM,EAAKiB,aAAajB,GACxB,IAAIJ,EAAO,EAAKR,MAAMmB,SAClBoB,EAAMC,EAAQ5B,EAAKJ,GACvB,GAAY,IAAR+B,EAAW,CACb/B,EAAKiC,KAAK,CAAEtC,KAAMS,EAAKV,KAAM,YAE7B,IAAIwC,EAAkBlC,EAAKA,EAAKE,OAAS,GAAGP,KAW5C,OAVAuC,EACEA,EAAgBA,EAAgBhC,OAAS,GAAGoB,cAAgB,SAC9D,EAAKa,SAAS,CACZC,SAAU,EAAKC,MAAMC,QAAQC,MAC7BZ,eAAe,EACfG,iBAAkBI,IAEpB,EAAK1C,MAAMgD,YAAW,GACtB,EAAKhD,MAAMiD,aAAY,QACvB,EAAKC,yBAGP,GAAY,IAARX,GAAqB,IAARA,GAAqB,IAARA,GAAqB,IAARA,EAMzC,YALA,EAAKvC,MAAMmD,UAAUC,SAAS,CAC5BC,OAAQ,CACNC,UAAWf,KAKf,EAAKvC,MAAMmD,UAAUC,SAAS,CAC5BC,OAAQ,CACNC,UAAW,WACXC,WAAY,CAAEC,IAAKjB,EAAIT,oBA1FhB,EAoGnB2B,aAAe,SAACC,EAAKC,GAGnB,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,IAAQA,GAvGhC,EA0GnBR,uBAAyB,WACvB,IAAIc,EAAY,EAAKP,aAAa,EAAG,KACrCQ,QAAQC,IAAIF,GAEVA,EADEA,EAAY,KACD,EAED,GAAMA,EAAY,GAEhCC,QAAQC,IAAIF,GACZ,EAAKhE,MAAMmE,oBAAoBH,GAC/B,EAAKrB,SAAS,CACZP,gBAAgB,KArHD,EAyHnBC,iBAAmB,SAAClC,GAClBkB,GAAU,EACV4C,QAAQC,IAAI,oBACZ,EAAKlE,MAAMmD,UAAUC,SAAS,CAC5BC,OAAQ,CACNC,UAAW,eACXC,WAAY,CAAEpD,KAAMA,MAGxB,EAAKH,MAAMmB,SAASsB,KAAK,CAAEtC,KAAMA,EAAMD,KAAM,cAC7C,EAAKyC,SAAS,CACZR,eAAe,EACfG,iBAAkB,GAClBF,gBAAgB,IAElB,EAAKpC,MAAMiD,aAAY,GACvB,EAAKjD,MAAMgD,YAAW,GACtB,EAAKzB,gBA1IY,EA6InB6C,MAAQ,WACN,EAAKvB,MAAMC,QAAQC,MAAQ,GAC3B,EAAKf,QAAQ,EAAKE,MAAMU,UACxBvB,GAAU,GAhJO,EAmJnBgD,OAAS,SAACC,GACQ,UAAZA,EAAGC,MACL,EAAKH,SAnJP,EAAKvB,MAAQ2B,IAAMC,YACnB,EAAKvC,MAAQ,CACXU,SAAU,GACVT,eAAe,EACfC,gBAAgB,EAChBE,iBAAkB,GAClBL,SAAS,GARM,E,iEAkBbZ,GAASqD,KAAKnD,eAClBF,GAAU,I,4CAGUsD,EAAWC,GAC/B,OAAIF,KAAK1E,MAAM6E,YAAcF,EAAUE,WACrCZ,QAAQC,IAAI,qBACZQ,KAAK/B,SAAS,CACZC,SAAU,GACVT,eAAe,EACfC,gBAAgB,EAChBE,iBAAkB,GAClBL,SAAS,KAEJ,GAEL0C,EAAUG,cACZb,QAAQC,IAAR,mCAAwCQ,KAAK1E,MAAM8E,eACnDJ,KAAKrC,iBAAiBqC,KAAKxC,MAAMI,kBACjCqC,EAAUI,kBACH,GAELL,KAAK1E,MAAMgF,UAAYL,EAAUK,SACnCN,KAAK1C,QAAQ2C,EAAUK,SACvB3D,GAAU,GACH,GAELqD,KAAK1E,MAAMmB,WAAawD,EAAUxD,UAClCuD,KAAKxC,QAAU0C,I,+BA2GX,IAAD,OACHK,EAAcP,KAAK1E,MAAMmB,SAAS+D,KAAI,SAACtE,EAAKuE,GAAN,OACxC,cAAC,EAAD,CAAqBhF,KAAMS,EAAIT,KAAMD,KAAMU,EAAIV,MAAjCiF,MAEhB,OACE,sBAAKlF,UAAU,OAAf,UACE,qBAAKA,UAAU,UAAUmF,GAAG,QAA5B,SACGH,IAEH,cAAC,YAAD,CACEG,GAAG,KACHC,IAAKX,KAAK7B,MACVE,MAAO2B,KAAKxC,MAAMU,SAClB3C,UAAU,WACVqF,MAAM,gEACNC,SAAU,SAACC,GAAD,OACR,EAAK7C,SAAS,CACZC,SAAU4C,EAAEC,OAAO1C,SAGvB2C,UAAWhB,KAAKL,OAChBsB,aACE,cAAC,eAAD,CACEP,GAAG,KACHQ,KAAK,IACLC,KAAK,UACLC,QAASpB,KAAKN,MACduB,aAAc,cAAC,IAAD,e,GArLMnB,IAAMuB,WCTzB,G,OAAA,IAA0B,wCCA1B,MAA0B,sCCA1B,MAA0B,mCCMpBC,E,uKAGjB,IAAIC,EACJ,OAAQvB,KAAK1E,MAAMmD,WACjB,IAAK,OACH8C,EAAU,2BACV,MACF,IAAK,MACHA,EAAU,iCACV,MACF,IAAK,MACHA,EAAU,2BACV,MACF,QACEA,EAAU,2BAGd,OACE,sBAAKhG,UAAU,mBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKiG,IAAKC,EAAWlG,UAAU,gBAC/B,qBAAKA,UAAU,cAAf,SAA8BgG,OAEhC,qBAAKhG,UAAU,iBAAf,SACE,qBAAKiG,IAAKE,EAAInG,UAAU,kBAE1B,sBAAKA,UAAU,iBAAf,UACE,qBAAKiG,IAAKG,EAAWpG,UAAU,gBAC/B,qBAAKA,UAAU,cAAf,SAA8ByE,KAAK1E,MAAMsG,qB,GA7BhB9B,IAAMuB,WCDnCQ,G,OAAc,CAClBC,KAAM,CACJC,MAAO,SAETC,QAAS,CACPD,MAAO,SACPE,UARsB,IAUxBC,MAAO,CACLH,MAAO,MACPE,UAXoB,KAclBE,EAAa,GAEfC,EAAa,EAEbC,EAAqBR,EAAYC,KAAKC,MAC7BO,EAAb,kDACE,WAAYhH,GAAQ,IAAD,8BACjB,cAAMA,IASRiH,eAAiB,SAACC,GAEhB,IAAMC,EAAUvD,KAAKE,MAAMoD,EAAO,IAC9BE,EAAUF,EAAO,GAMrB,OAJIE,EAAU,KACZA,EAAO,WAAOA,IAGV,GAAN,OAAUD,EAAV,YAAqBC,IAnBJ,EAuBnBC,sBAAwB,WACtB,IAAMC,EAAkB,EAAKpF,MAAMqF,SAAWV,EAC9C,OAAOS,EAAmB,KAAmB,EAAIA,IAzBhC,EA6BnBE,mBAAqB,WACnB,IAAMC,EAAe,WAnCD,IAoClB,EAAKJ,yBACLK,QAAQ,GAFW,QAGrBjG,SACGC,eAAe,6BACfiG,aAAa,mBAAoBF,IAnCnB,EAsCnBG,sBAAwB,SAACL,GAAc,IAC7BX,EAAyBL,EAAzBK,MAAOF,EAAkBH,EAAlBG,QAASF,EAASD,EAATC,KACpBe,GAAYX,EAAMD,WACpBlF,SACGC,eAAe,6BACfmG,UAAUC,OAAOpB,EAAQD,OAC5BhF,SACGC,eAAe,6BACfmG,UAAUE,IAAInB,EAAMH,QACdc,GAAYb,EAAQC,WAC7BlF,SACGC,eAAe,6BACfmG,UAAUC,OAAOtB,EAAKC,OACzBhF,SACGC,eAAe,6BACfmG,UAAUE,IAAIrB,EAAQD,QAChBc,EAAWb,EAAQC,YAC5BlF,SACGC,eAAe,6BACfmG,UAAUC,OAAOlB,EAAMH,OAC1BhF,SACGC,eAAe,6BACfmG,UAAUC,OAAOpB,EAAQD,OAC5BhF,SACGC,eAAe,6BACfmG,UAAUE,IAAIvB,EAAKC,SA/DP,EAmEnBuB,WAAa,WACKC,aAAY,WACrB,EAAK/F,MAAMgG,QAET,EAAKlI,MAAMiC,UACd6E,EAAaA,GAAcD,EAAa,EAAKC,GAAc,EAC3D,EAAKnE,SAAS,CACZ4E,SAAUV,EAAaC,EACvBoB,OAAO,IAEN,EAAKlI,MAAMmI,mBAAqB,EAAKjG,MAAMqF,UAC5C,EAAKvH,MAAM8E,eAGbrD,SAASC,eAAe,oBAAoB0G,UAC1C,EAAKnB,eAAe,EAAK/E,MAAMqF,UAC/B,EAAKK,sBAAsB,EAAK1F,MAAMqF,WAEtC,EAAKrF,MAAMqF,UAAY,IACzB,EAAK5E,SAAS,CACZ4E,SAAU,EACVW,OAAO,IAET,EAAKlI,MAAMqI,WAEb,EAAKb,wBAEN,MA9Fc,EAiGnBa,QAAU,WACR,EAAKrI,MAAMqI,WAlGM,EA2GnBC,aAAe,WACbxB,EAAa,EACb,EAAKnE,SAAS,CACZ4E,SAAUV,EACVqB,OAAO,KA7GT,EAAKF,aACL,EAAK9F,MAAQ,CACXqF,SAAUV,EACVqB,OAAO,EACPK,WAAW,EACXtG,QAAS,EAAKjC,MAAMiC,SAPL,EADrB,kEAqGwB0C,EAAWC,GAC/B,OAAIF,KAAK1E,MAAMwI,SAAW7D,EAAU6D,SAClC9D,KAAK4D,gBACE,KAxGb,+BAoHI,IAAIG,EAAS,qCAAiC1B,GAE9C,OADA9C,QAAQC,IAAI,iBAEV,sBAAKjE,UAAU,aAAf,UACE,qBACEA,UAAU,kBACVyI,QAAQ,cACRC,MAAM,6BAHR,SAKE,oBAAG1I,UAAU,qBAAb,UACE,wBACEA,UAAU,2BACV2I,GAAG,KACHC,GAAG,KACHC,EAAE,OAEJ,sBACE1D,GAAG,4BACH2D,gBAAgB,MAChB9I,UAAWwI,EACXO,EAAE,8EASR,sBAAM5D,GAAG,mBAAmBnF,UAAU,oBAAtC,SACGyE,KAAKuC,eAAevC,KAAKxC,MAAMqF,mBAlJ1C,GAA2B/C,IAAMuB,WCnBZkD,E,4MACnBZ,QAAU,WACR,EAAKrI,MAAMqI,W,EAEbvD,aAAe,WACb,EAAK9E,MAAM8E,gB,uDAIX,OACE,gCACE,cAAC,QAAD,CACEoE,KAAI,+EAAmBxE,KAAK1E,MAAMmJ,YAClCvD,KAAK,IACLwD,MAAO,CAAEC,MAAO,QAASC,OAAQ,eAEnC,cAAC,EAAD,CACEjB,QAAS3D,KAAK2D,QACdG,OAAQ9D,KAAK1E,MAAMwI,OACnBvG,QAASyC,KAAK1E,MAAMiC,QACpBkG,iBAAkBzD,KAAK1E,MAAMmI,iBAC7BrD,aAAcJ,KAAKI,sB,GArBcN,IAAMuB,WCCpCwD,G,OAAb,4MAEIC,kBAAoB,WAChB,OAAG,EAAKxJ,MAAMiC,QACH,cAAC,IAAD,CAAU2D,KAAK,MACd,cAAC,IAAD,CAAWA,KAAK,OALpC,EAQI6D,WAAa,WACN,EAAKzJ,MAAMgD,YACV,EAAKhD,MAAM0J,SAVvB,EAcIC,aAAe,WACX,EAAK3J,MAAM4J,WAfnB,EAkBIC,WAAa,WACTC,YAAW,WAAK7F,QAAQC,IAAI,UAAW,EAAKlE,MAAMmD,UAAU4G,UAAU,IAnB9E,uDAuBQ,OACI,sBAAK9J,UAAU,wBAAf,UACI,cAAC,SAAD,CACImJ,MAAO,CAAC,YAAe,QACvBxD,KAAK,IACLC,KAAK,UACLmE,IAAI,gBACJC,YAAavF,KAAK8E,oBAClB1D,QAASpB,KAAK+E,aAClB,cAAC,SAAD,CACI7D,KAAK,IACLC,KAAK,UACLmE,IAAI,gBACJC,YAAa,cAAC,IAAD,CAAarE,KAAK,MAC/BE,QAASpB,KAAKiF,eAClB,cAAC,SAAD,CACIP,MAAO,CAAC,WAAc,QACtBxD,KAAK,IACLC,KAAK,WACLmE,IAAI,gBACJC,YAAa,cAAC,IAAD,CAAWrE,KAAK,MAC7BE,QAASpB,KAAKmF,oBA5ClC,GAAiCrF,IAAMuB,YCAlBmE,E,4MACjB7B,QAAU,WACN,EAAKrI,MAAMqI,W,EAEfvD,aAAe,WACX,EAAK9E,MAAM8E,gB,uDAGX,OACA,gCACI,cAAC,EAAD,CACI3B,UAAWuB,KAAK1E,MAAMmK,UACtB7D,SAAU5B,KAAK1E,MAAMsG,WAEzB,cAAC,EAAD,CACI6C,aAAOzE,KAAK1E,MAAMoK,MAClB/B,QAAS3D,KAAK2D,QACdG,OAAQ9D,KAAK1E,MAAMwI,OACnBvG,QAASyC,KAAK1E,MAAMiC,QACpBkG,iBAAkBzD,KAAK1E,MAAMmI,iBAC7BrD,aAAcJ,KAAKI,eAEvB,cAAC,EAAD,CACI8E,QAASlF,KAAK1E,MAAM4J,QACpBzG,UAAWuB,KAAK1E,MAAMmD,UACtBH,WAAY0B,KAAK1E,MAAMgD,WACvB0G,MAAOhF,KAAK1E,MAAM0J,MAClBzH,QAASyC,KAAK1E,MAAMiC,iB,GA3BGuC,IAAMuB,WCGhCsE,G,OAAb,4MAEEV,aAAe,WACb,EAAK3J,MAAM4J,WAHf,EAMEC,WAAa,WACXC,YAAW,WAAK7F,QAAQC,IAAI,UAAW,EAAKlE,MAAMmD,UAAU4G,UAAU,IAP1E,uDAWI,IAAIO,EAAY5F,KAAK1E,MAAMoK,MAC3B,OACE,cAAC,OAAD,CAAMnK,UAAU,iBAAiBmJ,MAAO,CAAEmB,OAAQ,IAAlD,SACE,cAAC,WAAD,UACE,eAAC,cAAD,WACE,cAAC,gBAAD,UAAgB7F,KAAK1E,MAAMwK,MAAQ,iEAAiB,yEACpD,cAAC,QAAD,CACItB,KAAI,+EAAmBoB,GACvB1E,KAAK,IACLwD,MAAO,CAAEC,MAAO,QAASC,OAAQ,eAErC,sBAAKrJ,UAAU,gBAAf,UACE,cAAC,SAAD,CACEmJ,MAAO,CAAC,YAAe,QACvBxD,KAAK,IACLC,KAAK,UACLmE,IAAI,gBACJC,YAAa,cAAC,IAAD,CAAarE,KAAK,MAC/BE,QAASpB,KAAKiF,eAEhB,cAAC,SAAD,CACAP,MAAO,CAAC,WAAc,QACpBxD,KAAK,IACLC,KAAK,WACLmE,IAAI,gBACJC,YAAa,cAAC,IAAD,CAAWrE,KAAK,MAC7BE,QAASpB,KAAKmF,2BArC9B,GAA6BrF,IAAMuB,Y,sNCOnC,IAAM0E,EAAqBC,4BAAkBC,WACvCC,EAAsBF,4BAAkBG,YACxCC,EAAqBJ,4BAAkBK,WAavCC,EAAWN,4BAAH,IAGGxB,OACW+B,aACAC,YAIxBjF,EAAU,GAGDkF,EAAb,kDACE,WAAYnL,GAAQ,IAAD,EAxBQoL,EAwBR,4BACjB,cAAMpL,IAuGRiD,YAAc,SAACoI,GACb,EAAK1I,SAAS,CACZ2H,UAAW,EAAKpI,MAAMoI,UAAY,EAClCgB,aAAc,EAAKpJ,MAAMoJ,YACzBC,UAAWF,KA5GI,EAgHnBhD,QAhHmB,sBAgHT,sBAAAmD,EAAA,sEACF,EAAK7I,SAAS,CAClB8I,WAAW,EACXxJ,SAAS,IAHH,uBAKF,EAAKkB,UAAUC,SAAS,CAC5BC,OAAQ,CACNC,UAAW,EAAKpB,MAAMqJ,UAAY,gBAAkB,kBAPhD,2CAhHS,EA4HnB3B,QAAU,WACR3F,QAAQC,IAAI,oBACZ+B,EAAU,GACV,EAAKtD,SAAS,CACZxB,SAAU,GACVmJ,UAAW,EACXmB,WAAW,EACX5G,WAAY,EAAK3C,MAAM2C,UACvByG,aAAc,EAAKpJ,MAAMoJ,YACzBC,WAAW,EACXtJ,SAAS,EACTyJ,YAAY,EACZvD,kBAAmB,EACnBrD,cAAc,KAzIC,EA6InB4E,MAAQ,WACF,EAAKxH,MAAMwJ,YACb,EAAK/I,SAAS,CACZV,SAAU,EAAKC,MAAMD,WAhJR,EAqJnBe,WAAa,SAAC2I,GACZ,EAAKhJ,SAAS,CACZ+I,WAAYC,KAvJG,EA2JnB7G,aAAe,WACb,EAAKnC,SAAS,CACZmC,cAAc,EACdqD,kBAAmB,KA9JJ,EAkKnBpD,eAAiB,WACf,EAAKpC,SAAS,CACZmC,cAAc,KApKC,EAuKnBX,oBAAsB,SAACyH,GACrB,EAAKjJ,SAAS,CACZwF,iBAAkByD,KAtKpB,EAAK1J,MAAQ,CACXf,SAAU,GACVmJ,UAAW,EACXH,UAAW,OACXsB,WAAW,EACX5G,WAAW,EACXyG,aAAa,EACbC,WAAW,EACXtJ,SAAS,EACTyJ,YAAY,EACZvD,kBAAmB,EACnBrD,cAAc,EACdwB,SAAU,UAGZ,EAAKnD,WA1CoBiI,EA0CY,kBAAM,EAAKS,wBAlC3CC,0BAAgB,CAAEV,cAmCvB,EAAKjI,UAAU4I,GAAG,SAAS,SAACC,GAE1B,EAAK7I,UAAUC,SAAS,CACtBC,OAAQ,CACNC,UAAW,iBAGfW,QAAQC,IAAR,sBAAmC8H,MAErC,EAAK7I,UAAU4I,GAAG,QAAQ,SAACC,GACzB,OAAQA,EAAMC,MACZ,IAAK,UACMD,EAAME,IAUf,MACF,IAAK,YACwB,QAAvBF,EAAM7B,UAAU/E,KAAca,EAAU,kCACjB,QAAvB+F,EAAM7B,UAAU/E,KAAca,EAAU,4BAC5C,EAAKtD,SAAS,CACZwH,UAAW6B,EAAM7B,UAAU/E,KAlBE,IAsB3B/B,EAAW2I,EAAX3I,OACR,EAAK8I,wBAAwB9I,MAnDd,EADrB,mEAiEI,MARc,CACZ+I,cAAe,CACbC,MAAO3H,KAAKxC,MAAMf,SAAS+D,KAAI,WAAiBC,GAAjB,MAA4B,CACzDhF,KAD6B,EAAGA,KAEhCD,KAF6B,EAASA,aA3DhD,8CAoE0BmD,GAEtB,GADAY,QAAQC,IAAI,0BAA2Bb,GACnCA,EACF,OAAQA,EAAO4I,MACb,IAAK,eACH,IAAIK,EAAUjJ,EAAOkJ,KACrBtI,QAAQC,IAAI,kEAAkBoI,GAC1BA,EAAQ5L,OAAS,IACnBuD,QAAQC,IAAI,gBACZQ,KAAK/B,SAAS,CAAE2D,SAAUjD,EAAOkJ,QAEjC7H,KAAKvB,UAAUC,SAAS,CACtBC,OAAQ,CACNC,UAAW,YAIjB,MACF,IAAK,WACH2C,EAAU5C,EAAOkJ,KACjB7H,KAAK/B,SAAS+B,KAAKxC,OACnB,MACF,IAAK,eACHwC,KAAKkF,UACL,MACF,IAAK,aACHlF,KAAKgF,QACL,MACF,IAAK,gBACChF,KAAKxC,MAAMD,SAASyC,KAAKgF,WAjGvC,+BA8KY,IAAD,OACP,OACE,eAAC8C,EAAA,oBAAD,WACE,cAACxB,EAAD,IACE,WACA,OAAQ,EAAK9I,MAAMiI,WACjB,IAAK,OACH,OAAO,cAACS,EAAD,IACT,IAAK,MACH,OAAO,cAACH,EAAD,IACT,IAAK,MACH,OAAO,cAACK,EAAD,IACT,QACE,QATJ,GAYF,qBACE7K,UAAU,iBACVmJ,MAAO,CAAEqD,QAAS/H,KAAKxC,MAAMuJ,UAAY,OAAS,QAFpD,SAIG/G,KAAKxC,MAAMuJ,UACV,cAAC,EAAD,CACErB,MAAO1F,KAAKxC,MAAMoI,UAClBV,QAASlF,KAAKkF,QACdzG,UAAWuB,KAAKvB,UAChBqH,MAAO9F,KAAKxC,MAAMqJ,YAGpB,0BAGJ,sBAAKtL,UAAU,iBAAf,UACE,cAAC,EAAD,CACE+E,QAASiB,EACThD,YAAayB,KAAKzB,YAClBE,UAAWuB,KAAKvB,UAChBhC,SAAUuD,KAAKxC,MAAMf,SACrB0D,UAAWH,KAAKxC,MAAM2C,UACtB5C,QAASyC,KAAKxC,MAAMD,QACpBe,WAAY0B,KAAK1B,WACjBmB,oBAAqBO,KAAKP,oBAC1BY,eAAgBL,KAAKK,eACrBD,aAAcJ,KAAKxC,MAAM4C,eAE3B,qBAAK7E,UAAU,sBAAf,SACE,cAAC,EAAD,CACEkK,UAAWzF,KAAKxC,MAAMiI,UACtBC,MAAO1F,KAAKxC,MAAMoI,UAClBjC,QAAS3D,KAAK2D,QACduB,QAASlF,KAAKkF,QACdF,MAAOhF,KAAKgF,MACZzH,QAASyC,KAAKxC,MAAMD,QACpBe,WAAY0B,KAAKxC,MAAMwJ,WACvBlD,OAAQ9D,KAAKxC,MAAMoJ,YACnBnI,UAAWuB,KAAKvB,UAChBgF,iBAAkBzD,KAAKxC,MAAMiG,iBAC7BrD,aAAcJ,KAAKI,aACnBwB,SAAU5B,KAAKxC,MAAMoE,uBAvOnC,GAAyB9B,IAAMuB,WC5BhB2G,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACD,cAAC,EAAD,IACN3L,SAASC,eAAe,SAM1BgL,K","file":"static/js/main.ad273a9b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nexport default function Message(props) {\r\n  return (\r\n    <div className=\"name-item\">    \r\n      <p className={props.from}>{props.name}</p>\r\n    </div>\r\n  );\r\n}\r\n","//проверка на правильность вводимого сообщения\r\nfunction isCorrect(current_name, names) {\r\n  current_name = current_name.toLowerCase();\r\n  let temp = names;\r\n  let lastSym;\r\n  //если введено короткое имя\r\n  if (current_name.length <= 1) {\r\n    return 1;\r\n  }\r\n  //если сообщение состоит из более чем 1 слова\r\n  if (current_name.includes(\" \")) {\r\n    return 2;\r\n  }\r\n  //Проверка на кириллицу\r\n  if (!inCyrillic(current_name)) {\r\n    return 3;\r\n  }\r\n  //если это слово не первое\r\n  if (temp.length !== 0) {\r\n    let lastMsg = temp[temp.length - 1].name.toLowerCase();\r\n    //проход по символам последнего сыгранного имени с конца для определения буквы, с которой должно начинаться текущее имя\r\n    lastSym = getStartSymbol(lastMsg);\r\n    if (current_name[0] !== lastSym) {\r\n      return lastSym;\r\n    }\r\n    if(isExist(current_name, temp)) {\r\n      return 4;\r\n    }\r\n  } \r\n  return 0;\r\n}\r\n\r\nfunction getStartSymbol(msg) {\r\n  let lastSym;\r\n  let isCorrect = true;\r\n  const wrongLastChar = \"ьъы\";\r\n  for (let i = msg.length - 1; i > 0; i--) {\r\n    isCorrect = true;\r\n    for (let ws of wrongLastChar) {\r\n      //проверка символа на один из тех, на которые не может начинаться имя\r\n      if (msg[i] === ws) {\r\n        isCorrect = false;\r\n        break;\r\n      }\r\n    }\r\n    if (isCorrect) {\r\n      lastSym = msg[i]; //буква, с которой должно быть введено слово\r\n      break;\r\n    }\r\n  }\r\n  return lastSym;\r\n}\r\n\r\nfunction inCyrillic(msg) {\r\n  for (let i of msg) {\r\n    if (\r\n      !(\r\n        (i.codePointAt() <= 1103 && i.codePointAt() >= 1072) ||\r\n        i.codePointAt() === 1105\r\n      )\r\n    )\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isExist(msg, messages) {\r\n  for (let i of messages) {\r\n    if (msg.toLowerCase() === i.name.toLowerCase()) return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport default isCorrect;\r\n","import React from \"react\";\r\nimport Message from \"./Message_cmp/Message\";\r\nimport checker from \"../../service/WordChecker\";\r\nimport { TextField, ActionButton } from \"@sberdevices/plasma-ui\";\r\nimport { IconMessage } from \"@sberdevices/plasma-icons\";\r\nimport \"./Chat.css\";\r\n\r\nlet clicked = false;\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tfRef = React.createRef();\r\n    this.state = {\r\n      textName: \"\", //текст, введенный в чате\r\n      lastSayPlayer: false, //true, если последнее имя сказал игрок\r\n      assistantSaing: false, //true, если вызван метод assistantSayName\r\n      nameForAssistant: \"\", //имя, которое должен сказать ассистент\r\n      isPause: false,\r\n    };\r\n  }\r\n\r\n  updateScroll = () => {\r\n    let block = document.getElementById(\"block\");\r\n    block.scrollTop = block.scrollHeight;\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (clicked) this.updateScroll();\r\n    clicked = false;\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.restarted !== nextProps.restarted) {\r\n      console.log(\"restart from chat\");\r\n      this.setState({\r\n        textName: \"\",\r\n        lastSayPlayer: false,\r\n        assistantSaing: false,\r\n        nameForAssistant: \"\",\r\n        isPause: false,\r\n      });\r\n      return false;\r\n    }\r\n    if (nextProps.assistantSay) {\r\n      console.log(`assistantSay from chat = ${this.props.assistantSay}`);\r\n      this.assistantSayName(this.state.nameForAssistant);\r\n      nextProps.assistantSaied();\r\n      return false;\r\n    }\r\n    if (this.props.newname !== nextProps.newname) {\r\n      this.sayName(nextProps.newname);\r\n      clicked = true;\r\n      return true;\r\n    }\r\n    if (this.props.messages !== nextProps.messages) return true;\r\n    if (this.state !== nextState) return true;\r\n    return false;\r\n  }\r\n  toNameFormat = (msg) => {\r\n    if (msg.length !== 0) {\r\n      msg = msg.toLowerCase();\r\n      msg = msg[0].toUpperCase() + msg.slice(1);\r\n    }\r\n    return msg;\r\n  };\r\n  //добавление вводимого сообщения\r\n  sayName = (msg) => {\r\n    if (!this.props.isPause) {\r\n      if (!this.state.lastSayPlayer) {\r\n        msg = this.toNameFormat(msg);\r\n        let temp = this.props.messages;\r\n        let res = checker(msg, temp);\r\n        if (res === 0) {\r\n          temp.push({ name: msg, from: \"from-me\" });\r\n          /* Отправить в бэк get запрос со следующим именем */\r\n          let nameFromBackend = temp[temp.length - 1].name;\r\n          nameFromBackend =\r\n            nameFromBackend[nameFromBackend.length - 1].toUpperCase() + \"а\";\r\n          this.setState({\r\n            textName: this.tfRef.current.value,\r\n            lastSayPlayer: true,\r\n            nameForAssistant: nameFromBackend,\r\n          });\r\n          this.props.allowPause(true);\r\n          this.props.updateCount(true);\r\n          this.createAssistantSayTime();\r\n          return;\r\n        }\r\n        if (res === 1 || res === 2 || res === 3 || res === 4) {\r\n          this.props.assistant.sendData({\r\n            action: {\r\n              action_id: res,\r\n            },\r\n          });\r\n          return;\r\n        } else {\r\n          this.props.assistant.sendData({\r\n            action: {\r\n              action_id: \"firstSym\",\r\n              parameters: { sym: res.toUpperCase() },\r\n            },\r\n          });\r\n        }\r\n      } else if (!this.state.assistantSaing) {\r\n        this.assistantSayName(this.state.nameForAssistant);\r\n      }\r\n    }\r\n  };\r\n\r\n  getRandomInt = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n  };\r\n\r\n  createAssistantSayTime = () => {\r\n    let timeReply = this.getRandomInt(0, 102);\r\n    console.log(timeReply);\r\n    if (timeReply > 100) {\r\n      timeReply = -1;\r\n    } else {\r\n      timeReply = 10 + (timeReply % 10);\r\n    }\r\n    console.log(timeReply);\r\n    this.props.setAssistantSayTime(timeReply);\r\n    this.setState({\r\n      assistantSaing: true,\r\n    });\r\n  };\r\n\r\n  assistantSayName = (name) => {\r\n    clicked = true;\r\n    console.log(\"assistantSayName\");\r\n    this.props.assistant.sendData({\r\n      action: {\r\n        action_id: \"assistantSay\",\r\n        parameters: { name: name },\r\n      },\r\n    });\r\n    this.props.messages.push({ name: name, from: \"from-them\" });\r\n    this.setState({\r\n      lastSayPlayer: false,\r\n      nameForAssistant: \"\",\r\n      assistantSaing: false,\r\n    });\r\n    this.props.updateCount(false);\r\n    this.props.allowPause(false);\r\n    this.updateScroll();\r\n  };\r\n\r\n  click = () => {\r\n    this.tfRef.current.value = \"\";\r\n    this.sayName(this.state.textName);\r\n    clicked = true;\r\n  };\r\n\r\n  enters = (ev) => {\r\n    if (ev.code === \"Enter\") {\r\n      this.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let messageList = this.props.messages.map((msg, index) => (\r\n      <Message key={index} name={msg.name} from={msg.from} />\r\n    ));\r\n    return (\r\n      <div className=\"chat\">\r\n        <div className=\"subChat\" id=\"block\">\r\n          {messageList}\r\n        </div>\r\n        <TextField\r\n          id=\"tf\"\r\n          ref={this.tfRef}\r\n          value={this.state.textName}\r\n          className=\"editText\"\r\n          label=\"Введите имя\"\r\n          onChange={(v) =>\r\n            this.setState({\r\n              textName: v.target.value,\r\n            })\r\n          }\r\n          onKeyDown={this.enters}\r\n          contentRight={\r\n            <ActionButton\r\n              id=\"ab\"\r\n              size=\"l\"\r\n              view=\"primary\"\r\n              onClick={this.click}\r\n              contentRight={<IconMessage />}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_salut.b0e7eb26.png\";","export default __webpack_public_path__ + \"static/media/logo_user.cc672939.png\";","export default __webpack_public_path__ + \"static/media/versus.3401d851.png\";","import React from \"react\";\r\nimport \"./Title.css\";\r\nimport logo_sber from \"./images/logo_salut.png\";\r\nimport logo_user from \"./images/logo_user.png\";\r\nimport vs from \"./images/versus.png\";\r\n\r\nexport default class Title extends React.Component {\r\n\r\n  render() {\r\n    let newName;\r\n    switch (this.props.assistant) {\r\n      case \"sber\":\r\n        newName = \"Сбер\";\r\n        break;\r\n      case \"eva\":\r\n        newName = \"Афина\";\r\n        break;\r\n      case \"joy\":\r\n        newName = \"Джой\";\r\n        break;\r\n      default:\r\n        newName = \"Сбер\";\r\n        break;\r\n    }\r\n    return (\r\n      <div className=\"header_container\">\r\n        <div className=\"info-container\">\r\n          <img src={logo_sber} className=\"logo-header\" />\r\n          <div className=\"player-name\">{newName}</div>\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={vs} className=\"logo-header\" />\r\n        </div>\r\n        <div className=\"info-container\">\r\n          <img src={logo_user} className=\"logo-header\" />\r\n          <div className=\"player-name\">{this.props.nickname}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Timer.css\";\r\n\r\nconst WARNING_THRESHOLD = 10;\r\nconst ALERT_THRESHOLD = 5;\r\nconst COLOR_CODES = {\r\n  info: {\r\n    color: \"green\",\r\n  },\r\n  warning: {\r\n    color: \"orange\",\r\n    threshold: WARNING_THRESHOLD,\r\n  },\r\n  alert: {\r\n    color: \"red\",\r\n    threshold: ALERT_THRESHOLD,\r\n  },\r\n};\r\nconst TIME_LIMIT = 20;\r\nconst FULL_DASH_ARRAY = 283;\r\nlet timePassed = 0;\r\nlet timerInterval = null;\r\nlet remainingPathColor = COLOR_CODES.info.color;\r\nexport class Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.startTimer();\r\n    this.state = {\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n      isRestart: false,\r\n      isPause: this.props.isPause,\r\n    };\r\n  }\r\n  formatTimeLeft = (time) => {\r\n    // Наибольшее целое число меньше или равно результату деления времени на 60.\r\n    const minutes = Math.floor(time / 60);\r\n    let seconds = time % 60;\r\n    // Если значение секунд меньше 10, тогда отображаем его с 0 впереди\r\n    if (seconds < 10) {\r\n      seconds = `0${seconds}`;\r\n    }\r\n    // Вывод в формате MM:SS\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n\r\n  // Делим оставшееся время на определенный временной лимит\r\n  calculateTimeFraction = () => {\r\n    const rawTimeFraction = this.state.timeLeft / TIME_LIMIT;\r\n    return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);\r\n  };\r\n\r\n  // Обновляем значение свойства dasharray, начиная с 283\r\n  setCircleDasharray = () => {\r\n    const circleDasharray = `${(\r\n      this.calculateTimeFraction() * FULL_DASH_ARRAY\r\n    ).toFixed(0)} 283`;\r\n    document\r\n      .getElementById(\"base-timer-path-remaining\")\r\n      .setAttribute(\"stroke-dasharray\", circleDasharray);\r\n  };\r\n\r\n  setRemainingPathColor = (timeLeft) => {\r\n    const { alert, warning, info } = COLOR_CODES;\r\n    if (timeLeft <= alert.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(alert.color);\r\n    } else if (timeLeft <= warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(info.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(warning.color);\r\n    } else if (timeLeft > warning.threshold) {\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(alert.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.remove(warning.color);\r\n      document\r\n        .getElementById(\"base-timer-path-remaining\")\r\n        .classList.add(info.color);\r\n    }\r\n  };\r\n\r\n  startTimer = () => {\r\n    timerInterval = setInterval(() => {\r\n      if (!this.state.isEnd) {\r\n        // Количество времени, которое прошло, увеличивается на  1\r\n        if (!this.props.isPause) {\r\n          timePassed = timePassed >= TIME_LIMIT ? 0 : (timePassed += 1);\r\n          this.setState({\r\n            timeLeft: TIME_LIMIT - timePassed,\r\n            isEnd: false,\r\n          });\r\n          if(this.props.assistantSayTime === this.state.timeLeft) {\r\n            this.props.assistantSay();\r\n          }\r\n          // Обновляем метку оставшегося времени\r\n          document.getElementById(\"base-timer-label\").innerHTML =\r\n            this.formatTimeLeft(this.state.timeLeft);\r\n            this.setRemainingPathColor(this.state.timeLeft);\r\n        } \r\n        if (this.state.timeLeft <= 0) {\r\n          this.setState({\r\n            timeLeft: 0,\r\n            isEnd: true,\r\n          });\r\n          this.props.endGame();\r\n        }\r\n        this.setCircleDasharray();\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.update !== nextProps.update) {\r\n      this.restartTimer();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  restartTimer = () => {\r\n    timePassed = 0;\r\n    this.setState({\r\n      timeLeft: TIME_LIMIT,\r\n      isEnd: false,\r\n    });\r\n  };\r\n  render() {\r\n    let pathClass = `base-timer__path-remaining ${remainingPathColor}`;\r\n    console.log(\"timer updated\");\r\n    return (\r\n      <div className=\"base-timer\">\r\n        <svg\r\n          className=\"base-timer__svg\"\r\n          viewBox=\"0 0 100 100\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"base-timer__circle\">\r\n            <circle\r\n              className=\"base-timer__path-elapsed\"\r\n              cx=\"50\"\r\n              cy=\"50\"\r\n              r=\"45\"\r\n            />\r\n            <path\r\n              id=\"base-timer-path-remaining\"\r\n              strokeDasharray=\"283\"\r\n              className={pathClass}\r\n              d=\"\r\n          M 50, 50\r\n          m -45, 0\r\n          a 45,45 0 1,0 90,0\r\n          a 45,45 0 1,0 -90,0\r\n        \"\r\n            ></path>\r\n          </g>\r\n        </svg>\r\n        <span id=\"base-timer-label\" className=\"base-timer__label\">\r\n          {this.formatTimeLeft(this.state.timeLeft)}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Badge } from \"@sberdevices/plasma-ui\";\r\nimport { Timer } from \"../Timer_cmp/Timer\";\r\n\r\nexport default class StatContainer extends React.Component {\r\n  endGame = () => {\r\n    this.props.endGame();\r\n  };\r\n  assistantSay = () => {\r\n    this.props.assistantSay();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Badge\r\n          text={`Сказано имён: ${this.props.сount}`}\r\n          size=\"l\"\r\n          style={{ width: \"150px\", margin: \"30px auto\" }}\r\n        />\r\n        <Timer \r\n          endGame={this.endGame} \r\n          update={this.props.update} \r\n          isPause={this.props.isPause}\r\n          assistantSayTime={this.props.assistantSayTime}\r\n          assistantSay={this.assistantSay}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Button } from '@sberdevices/plasma-ui'\r\nimport { IconPause, IconPlay, IconClose, IconRefresh } from '@sberdevices/plasma-icons'\r\nimport \"./Controllers.css\"\r\n\r\nexport class Controllers extends React.Component {\r\n\r\n    updatePauseButton = () => {\r\n        if(this.props.isPause)\r\n            return <IconPlay size=\"l\"/>\r\n        else return <IconPause size=\"l\"/>\r\n    }\r\n\r\n    clickPause = () => {\r\n        if(this.props.allowPause) {\r\n            this.props.pause();\r\n        }\r\n    }\r\n\r\n    clickRestart = () => {\r\n        this.props.restart();\r\n    }\r\n\r\n    clickClose = () => {\r\n        setTimeout(()=>{console.log('closed'); this.props.assistant.close();},1);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"controllers-container\">\r\n                <Button\r\n                    style={{\"marginRight\": \"20px\"}}\r\n                    size=\"l\"\r\n                    view=\"primary\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={this.updatePauseButton()}\r\n                    onClick={this.clickPause} />\r\n                <Button \r\n                    size=\"l\"    \r\n                    view=\"warning\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={<IconRefresh size=\"l\"/>}\r\n                    onClick={this.clickRestart}/>\r\n                <Button\r\n                    style={{\"marginLeft\": \"20px\"}}\r\n                    size=\"l\"\r\n                    view=\"critical\"\r\n                    pin=\"circle-circle\"\r\n                    contentLeft={<IconClose size=\"l\"/>}\r\n                    onClick={this.clickClose}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Title from \"./Title_cmp/Title\";\r\nimport StatContainer from \"./StatContainer_cmp/StatContainer\";\r\nimport { Controllers } from \"./Controllers_cmp/Controllers\";\r\n\r\nexport default class Statistic extends React.Component {\r\n    endGame = () => {\r\n        this.props.endGame();\r\n    }\r\n    assistantSay = () => {\r\n        this.props.assistantSay();\r\n    }\r\n    render() {\r\n        return (\r\n        <div>\r\n            <Title \r\n                assistant={this.props.character}\r\n                nickname={this.props.nickname}\r\n            />\r\n            <StatContainer \r\n                сount={this.props.count} \r\n                endGame={this.endGame} \r\n                update={this.props.update}\r\n                isPause={this.props.isPause}\r\n                assistantSayTime={this.props.assistantSayTime}\r\n                assistantSay={this.assistantSay}\r\n            />\r\n            <Controllers \r\n                restart={this.props.restart} \r\n                assistant={this.props.assistant} \r\n                allowPause={this.props.allowPause}\r\n                pause={this.props.pause}\r\n                isPause={this.props.isPause}\r\n            />\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, Card, CardBody, CardContent, CardHeadline1, Badge } from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconClose,\r\n  IconRefresh,\r\n} from \"@sberdevices/plasma-icons\";\r\nimport \"./EndGame.css\";\r\n\r\nexport class EndGame extends React.Component {\r\n\r\n  clickRestart = () => {\r\n    this.props.restart();\r\n  };\r\n\r\n  clickClose = () => {\r\n    setTimeout(()=>{console.log('closed'); this.props.assistant.close();},1);\r\n  };\r\n\r\n  render() {\r\n    let nameCount = this.props.count;\r\n    return (\r\n      <Card className=\"card-container\" style={{ zIndex: 21 }}>\r\n        <CardBody>\r\n          <CardContent>\r\n            <CardHeadline1>{this.props.isWin ? \"Вы победили!\" : \"Вы проиграли!\"}</CardHeadline1>\r\n            <Badge\r\n                text={`Сказано имён: ${nameCount}`}\r\n                size=\"l\"\r\n                style={{ width: \"150px\", margin: \"30px auto\" }}\r\n            />\r\n            <div className=\"btn-container\">\r\n              <Button\r\n                style={{\"marginRight\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"warning\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconRefresh size=\"l\" />}\r\n                onClick={this.clickRestart}\r\n              />\r\n              <Button\r\n              style={{\"marginLeft\": \"15px\"}}\r\n                size=\"l\"\r\n                view=\"critical\"\r\n                pin=\"circle-circle\"\r\n                contentLeft={<IconClose size=\"l\" />}\r\n                onClick={this.clickClose}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport {\n  createSmartappDebugger,\n  createAssistant,\n} from \"@sberdevices/assistant-client\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\nimport { text, background, gradient } from \"@sberdevices/plasma-tokens\";\nimport { DeviceThemeProvider } from \"@sberdevices/plasma-ui/components/Device\";\nimport \"./App.css\";\nimport Chat from \"../Chat_cmp/Chat\";\nimport Statistic from \"../Statistic_cmp/Statistic\";\nimport { EndGame } from \"../EndGame_cmp/EndGame\";\nimport {findNickName} from \"../../service/API_helper\"\n\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\n\nconst initializeAssistant = (getState) => {\n  if (process.env.NODE_ENV === \"development\") {\n    return createSmartappDebugger({\n      token: process.env.REACT_APP_TOKEN ?? \"\",\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n      getState,\n    });\n  }\n  return createAssistant({ getState });\n};\n\nconst DocStyle = createGlobalStyle`\n    html:root {\n        min-height: 100vh;\n        color: ${text};\n        background-color: ${background};\n        background-image: ${gradient};\n    }\n`;\n\nlet newName = \"\"; //имя, сказанное голосом ассистенту\nlet userId = null;\n\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messages: [], //сказанные имена\n      nameCount: 0, //количество сказанных имен\n      character: \"sber\", //текущий персонаж\n      isEndGame: false, //обновляется, когда игра заканчивается\n      restarted: false, //изменяется, когда нужен рестарт игры\n      timerUpdate: false, //изменяется когда надо обновить таймер\n      playerWin: false, //true, если последнее слово сказано игроком\n      isPause: true, //true, если нажата пауза\n      pauseAllow: true, //true, если в данный момент можно остановить игру\n      assistantSayTime: -1,\n      assistantSay: false,\n      nickname: \"player\",\n    };\n\n    this.assistant = initializeAssistant(() => this.getStateForAssistant());\n    this.assistant.on(\"start\", (event) => {\n      /* Запрос ника в бэкенд */\n      this.assistant.sendData({\n        action: {\n          action_id: \"addNickname\",\n        },\n      });\n      console.log(`assistant.on(start)`, event);\n    });\n    this.assistant.on(\"data\", (event) => {\n      switch (event.type) {\n        case \"initSub\": \n          userId = event.sub;\n          // let response = findNickName(userId);\n          // console.log(response);\n          // if(response === '') {\n          //   console.log(\"there is now available nickname\");\n          // } else {\n          //   this.setState({\n          //     nickname: response,\n          //   })\n          // }\n          break;\n        case \"character\":\n          if (event.character.id === \"eva\") newName = \"Афина\";\n          if (event.character.id === \"joy\") newName = \"Джой\";\n          this.setState({\n            character: event.character.id,\n          });\n          break;\n      }\n      const { action } = event;\n      this.dispatchAssistantAction(action);\n    });\n  }\n\n  getStateForAssistant() {\n    const state = {\n      item_selector: {\n        items: this.state.messages.map(({ name, from }, index) => ({\n          name,\n          from,\n        })),\n      },\n    };\n    return state;\n  }\n\n  dispatchAssistantAction(action) {\n    console.log(\"dispatchAssistantAction\", action);\n    if (action) {\n      switch (action.type) {\n        case \"add_nickname\":\n          let newNick = action.data;\n          console.log(\"Игровое имя: \" + newNick);\n          if (newNick.length < 15) {\n            console.log(\"Correct nick\");\n            this.setState({ nickname: action.data });\n          } else {\n            this.assistant.sendData({\n              action: {\n                action_id: \"repeat\",\n              },\n            });\n          }\n          break;\n        case \"add_name\":\n          newName = action.data;\n          this.setState(this.state);\n          break;\n        case \"restart_game\":\n          this.restart();\n          break;\n        case \"pause_game\":\n          this.pause();\n          break;\n        case \"continue_game\":\n          if (this.state.isPause) this.pause();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  updateCount = (isPlayer) => {\n    this.setState({\n      nameCount: this.state.nameCount + 1,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: isPlayer,\n    });\n  };\n\n  endGame = async () => {\n    await this.setState({\n      isEndGame: true,\n      isPause: true,\n    });\n    await this.assistant.sendData({\n      action: {\n        action_id: this.state.playerWin ? \"assistantLose\" : \"assistantWin\",\n      },\n    });\n  };\n\n  restart = () => {\n    console.log(\"restart from App\");\n    newName = \"\";\n    this.setState({\n      messages: [],\n      nameCount: 0,\n      isEndGame: false,\n      restarted: !this.state.restarted,\n      timerUpdate: !this.state.timerUpdate,\n      playerWin: false,\n      isPause: false,\n      pauseAllow: true,\n      assistantSayTime: -1,\n      assistantSay: false,\n    });\n  };\n\n  pause = () => {\n    if (this.state.pauseAllow) {\n      this.setState({\n        isPause: !this.state.isPause,\n      });\n    }\n  };\n\n  allowPause = (verdict) => {\n    this.setState({\n      pauseAllow: verdict,\n    });\n  };\n\n  assistantSay = () => {\n    this.setState({\n      assistantSay: true,\n      assistantSayTime: -1,\n    });\n  };\n\n  assistantSaied = () => {\n    this.setState({\n      assistantSay: false,\n    });\n  };\n  setAssistantSayTime = (sec) => {\n    this.setState({\n      assistantSayTime: sec,\n    });\n  };\n\n  render() {\n    return (\n      <DeviceThemeProvider>\n        <DocStyle />\n        {(() => {\n          switch (this.state.character) {\n            case \"sber\":\n              return <ThemeBackgroundSber />;\n            case \"eva\":\n              return <ThemeBackgroundEva />;\n            case \"joy\":\n              return <ThemeBackgroundJoy />;\n            default:\n              return;\n          }\n        })()}\n        <div\n          className=\"fill-container\"\n          style={{ display: this.state.isEndGame ? \"flex\" : \"none\" }}\n        >\n          {this.state.isEndGame ? (\n            <EndGame\n              count={this.state.nameCount}\n              restart={this.restart}\n              assistant={this.assistant}\n              isWin={this.state.playerWin}\n            />\n          ) : (\n            <div />\n          )}\n        </div>\n        <div className=\"main-container\">\n          <Chat\n            newname={newName}\n            updateCount={this.updateCount}\n            assistant={this.assistant}\n            messages={this.state.messages}\n            restarted={this.state.restarted}\n            isPause={this.state.isPause}\n            allowPause={this.allowPause}\n            setAssistantSayTime={this.setAssistantSayTime}\n            assistantSaied={this.assistantSaied}\n            assistantSay={this.state.assistantSay}\n          />\n          <div className=\"statistic-container\">\n            <Statistic\n              character={this.state.character}\n              count={this.state.nameCount}\n              endGame={this.endGame}\n              restart={this.restart}\n              pause={this.pause}\n              isPause={this.state.isPause}\n              allowPause={this.state.pauseAllow}\n              update={this.state.timerUpdate}\n              assistant={this.assistant}\n              assistantSayTime={this.state.assistantSayTime}\n              assistantSay={this.assistantSay}\n              nickname={this.state.nickname}\n            />\n          </div>\n        </div>\n      </DeviceThemeProvider>\n    );\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { App } from \"./components/App_cmp/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n//import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\n//import { GlobalStyle } from './GlobalStyle'; \n\nReactDOM.render(\n        <App />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}